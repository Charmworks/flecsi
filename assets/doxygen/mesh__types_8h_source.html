<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>flecsi: /home/flecsi/flecsi/flecsi/topology/mesh_types.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="small-flecsi.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">flecsi
   &#160;<span id="projectnumber">0.0-1572-gae35b05</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_688c864b7b93022ab3a371d21adf78fb.html">flecsi</a></li><li class="navelem"><a class="el" href="dir_fa984fdc1f8d7593d1791a3e6fdaa211.html">topology</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">mesh_types.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="mesh__types_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*~--------------------------------------------------------------------------~*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  @@@@@@@@  @@           @@@@@@   @@@@@@@@ @@</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * /@@/////  /@@          @@////@@ @@////// /@@</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * /@@       /@@  @@@@@  @@    // /@@       /@@</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * /@@@@@@@  /@@ @@///@@/@@       /@@@@@@@@@/@@</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * /@@////   /@@/@@@@@@@/@@       ////////@@/@@</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * /@@       /@@/@@//// //@@    @@       /@@/@@</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * /@@       @@@//@@@@@@ //@@@@@@  @@@@@@@@ /@@</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * //       ///  //////   //////  ////////  //</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * Copyright (c) 2016 Los Alamos National Laboratory, LLC</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * All rights reserved</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *~--------------------------------------------------------------------------~*/</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef flecsi_mesh_types_h</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define flecsi_mesh_types_h</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;flecsi/data/data_client.h&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mesh__utils_8h.html">flecsi/topology/mesh_utils.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="array__ref_8h.html">flecsi/utils/array_ref.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="reorder_8h.html">flecsi/utils/reorder.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;flecsi/topology/index_space.h&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceflecsi.html">flecsi</a> {</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">namespace </span>topology {</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"> * struct typeify</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, T M&gt;</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structflecsi_1_1topology_1_1typeify.html">   44</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflecsi_1_1topology_1_1typeify.html">typeify</a> {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keyword">static</span> constexpr T value = M;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;};</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">using</span> <a class="code" href="structflecsi_1_1topology_1_1typeify.html">dimension_</a> = <a class="code" href="structflecsi_1_1topology_1_1typeify.html">typeify&lt;size_t, M&gt;</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">using</span> <a class="code" href="structflecsi_1_1topology_1_1typeify.html">domain_</a> = <a class="code" href="structflecsi_1_1topology_1_1typeify.html">typeify&lt;size_t, M&gt;</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment"> * Simple types</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">using</span> id_vector_t = std::vector&lt;id_t&gt;;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">using</span> connection_vector_t = std::vector&lt;id_vector_t&gt;;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// hash use for mapping in building topology connectivity</span></div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="structflecsi_1_1topology_1_1id__vector__hash__t.html">   62</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflecsi_1_1topology_1_1id__vector__hash__t.html">id_vector_hash_t</a> {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordtype">size_t</span> operator()(<span class="keyword">const</span> id_vector_t &amp; v)<span class="keyword"> const</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">size_t</span> h = 0;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classflecsi_1_1id__.html">id_t</a> <span class="keywordtype">id</span> : v) {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      h |= <span class="keywordtype">id</span>.local_id();</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    } <span class="comment">// for</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> h;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  } <span class="comment">// operator()</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}; <span class="comment">// struct id_vector_hash_t</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">// used when building the topology connectivities</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">using</span> id_vector_map_t = std::unordered_map&lt;id_vector_t, id_t, id_vector_hash_t&gt;;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">// the second topology vector holds the offsets into to from dimension</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">using</span> index_vector_t = std::vector&lt;size_t&gt;;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment"> * class mesh_entity_base_t</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">mesh_topology_base_t</a>;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1mesh__entity__base__.html">   95</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1mesh__entity__base__.html">mesh_entity_base_</a>{</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keyword">using</span> <a class="code" href="classflecsi_1_1id__.html">id_t</a> = <a class="code" href="classflecsi_1_1id__.html">flecsi::id_t</a>;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;};</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> N&gt;</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1mesh__entity__base__t.html">  101</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1mesh__entity__base__t.html">mesh_entity_base_t</a> : <span class="keyword">public</span> <a class="code" href="classflecsi_1_1topology_1_1mesh__entity__base__.html">mesh_entity_base_</a></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;{</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">virtual</span> ~<a class="code" href="classflecsi_1_1topology_1_1mesh__entity__base__t.html">mesh_entity_base_t</a>() {}</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1mesh__entity__base__t.html#abd1dbfeff4090d6cba98ba146cd7a84b">  112</a></span>&#160;  <a class="code" href="classflecsi_1_1id__.html">id_t</a> <a class="code" href="classflecsi_1_1topology_1_1mesh__entity__base__t.html#abd1dbfeff4090d6cba98ba146cd7a84b">global_id</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">return</span> ids_[M];</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  } <span class="comment">// id</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <a class="code" href="classflecsi_1_1id__.html">id_t</a> global_id(<span class="keywordtype">size_t</span> domain)<span class="keyword"> const</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> ids_[domain];</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  } <span class="comment">// id</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">size_t</span> id()<span class="keyword"> const</span></div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">return</span> ids_[M].entity();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  } <span class="comment">// id</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordtype">size_t</span> id(<span class="keywordtype">size_t</span> domain)<span class="keyword"> const</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">return</span> ids_[domain].entity();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  } <span class="comment">// id</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  uint16_t info()<span class="keyword"> const</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> ids_[M] &gt;&gt; 48;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  } <span class="comment">// info</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1mesh__entity__base__t.html#aad835b9a69c45801fd82319c9462ba50">  143</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1mesh__entity__base__t.html#aad835b9a69c45801fd82319c9462ba50">set_global_id</a>( <span class="keyword">const</span> <a class="code" href="classflecsi_1_1id__.html">id_t</a> &amp; <span class="keywordtype">id</span> )</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    ids_[M] = id;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  } <span class="comment">// id</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> get_dim_(<span class="keywordtype">size_t</span> meshDim, <span class="keywordtype">size_t</span> dim)</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> dim &gt; meshDim ? meshDim : dim;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  } <span class="comment">// get_dim_</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> MT&gt;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1mesh__topology__t.html">mesh_topology_t</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">void</span> set_info(uint16_t info)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    ids_[M] = (uint64_t(info) &lt;&lt; 48) | ids_[M];</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  } <span class="comment">// set_info</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  std::array&lt;id_t, N&gt; ids_;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}; <span class="comment">// class mesh_entity_base_t</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"> * class mesh_entity_t</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> D, <span class="keywordtype">size_t</span> N&gt;</div><div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1mesh__entity__t.html">  187</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1mesh__entity__t.html">mesh_entity_t</a> : <span class="keyword">public</span> <a class="code" href="classflecsi_1_1topology_1_1mesh__entity__base__t.html">mesh_entity_base_t</a>&lt;N&gt;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">size_t</span> dimension = D;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1mesh__entity__t.html">mesh_entity_t</a>() {}</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keyword">virtual</span> ~<a class="code" href="classflecsi_1_1topology_1_1mesh__entity__t.html">mesh_entity_t</a>() {}</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}; <span class="comment">// class mesh_entity_t</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> N&gt;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="mesh__types_8h.html#ad4de101b07c0bf57ae1a06fdd59462ba">  202</a></span>&#160;<span class="keyword">using</span> <a class="code" href="mesh__types_8h.html#ad4de101b07c0bf57ae1a06fdd59462ba">entity_vector_t</a> = std::vector&lt;mesh_entity_base_t&lt;N&gt; *&gt;;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment"> * class domain_entity_t</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M, <span class="keyword">class</span> E&gt;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1domain__entity.html">  219</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1domain__entity.html">domain_entity</a></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keyword">using</span> id_t = <span class="keyword">typename</span> E::id_t;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keyword">using</span> item_t = E*;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1domain__entity.html">domain_entity</a>(E * entity) : entity_(entity) {}</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1domain__entity.html">domain_entity</a> &amp; operator=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1domain__entity.html">domain_entity</a> &amp; e)</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    entity_ = e.entity_;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  E * entity() { <span class="keywordflow">return</span> entity_; }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  <span class="keyword">const</span> E * entity()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entity_; }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keyword">operator</span> E *() { <span class="keywordflow">return</span> entity_; }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  E * operator-&gt;() { <span class="keywordflow">return</span> entity_; }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  E * operator*() { <span class="keywordflow">return</span> entity_; }</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keyword">operator</span> size_t()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entity_-&gt;template id&lt;M&gt;(); }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  id_t global_id()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entity_-&gt;template global_id&lt;M&gt;(); }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordtype">size_t</span> id()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entity_-&gt;template id&lt;M&gt;(); }</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordtype">bool</span> operator==(<a class="code" href="classflecsi_1_1topology_1_1domain__entity.html">domain_entity</a> e)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entity_ == e.entity_; }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordtype">bool</span> operator!=(<a class="code" href="classflecsi_1_1topology_1_1domain__entity.html">domain_entity</a> e)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entity_ != e.entity_; }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordtype">bool</span> operator&lt;(<a class="code" href="classflecsi_1_1topology_1_1domain__entity.html">domain_entity</a> e)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entity_ &lt; e.entity_; }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  id_t index_space_id()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entity_-&gt;template global_id&lt;M&gt;(); }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  E * entity_;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;};</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment"> * class entity_group</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div><div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1entity__group.html">  260</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1entity__group.html">entity_group</a></div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;{</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keyword">using</span> vec = std::vector&lt;T *&gt;;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="comment">/*--------------------------------------------------------------------------*</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">   * class iterator_</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">   *--------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">  269</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  {</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keyword">public</span>:</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a>(<span class="keyword">const</span> vec &amp; entities, <span class="keywordtype">size_t</span> index)</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        : entities_(&amp;entities), index_(index)</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a> &amp; operator++()</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    {</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      ++index_;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a> &amp; operator=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a> &amp; itr)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      index_ = itr.index_;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      entities_ = itr.entities_;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    T * operator*() { <span class="keywordflow">return</span> (*entities_)[index_]; }</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    T * operator-&gt;() { <span class="keywordflow">return</span> (*entities_)[index_]; }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a> &amp; itr)<span class="keyword"> const</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <span class="keywordflow">return</span> index_ == itr.index_;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a> &amp; itr)<span class="keyword"> const</span></div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">return</span> index_ != itr.index_;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   <span class="keyword">private</span>:</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keyword">const</span> vec * entities_;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">size_t</span> index_;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  }; <span class="comment">// class iterator_</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1entity__group.html#ab6be38bb509677a2119e968fe5ad84fe">  308</a></span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1entity__group.html#ab6be38bb509677a2119e968fe5ad84fe">entity_group</a>() {}</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1entity__group.html">entity_group</a>(vec &amp;&amp; entities) : entities_(std::move(entities)) {}</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordtype">void</span> add(T * ent) { entities_.push_back(ent); }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keyword">const</span> vec &amp; get_entities()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> entities_; }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> dim() { <span class="keywordflow">return</span> T::dimension; }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a> begin() { <span class="keywordflow">return</span> <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a>(entities_, 0); }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a> end() { <span class="keywordflow">return</span> <a class="code" href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">iterator_</a>(entities_, entities_.size()); }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keyword">auto</span> operator[](<span class="keywordtype">size_t</span> i)<span class="keyword"> const</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="keyword">  </span>{ <span class="keywordflow">return</span> entities_[i]; }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keyword">auto</span> front()<span class="keyword"> const</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="keyword">  </span>{ <span class="keywordflow">return</span> entities_.front(); }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  <span class="keyword">auto</span> back()<span class="keyword"> const</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="keyword">  </span>{ <span class="keywordflow">return</span> entities_.back(); }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keyword">auto</span> size()<span class="keyword"> const</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="keyword">  </span>{ <span class="keywordflow">return</span> entities_.size(); }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  vec entities_;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}; <span class="comment">// class entity_group</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment"> * class connectivity_t</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00342"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html">  342</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;{</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp;) = <span class="keyword">delete</span>;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a24ff9719c5baf555f1cd2a273911a887">  351</a></span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a24ff9719c5baf555f1cd2a273911a887">connectivity_t</a>()</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  : index_space_(false){}</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a578dc8dd05bb20470e80dd269dbc3b5c">  357</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a578dc8dd05bb20470e80dd269dbc3b5c">clear</a>()</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    index_space_.clear();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    from_index_vec_.clear();</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  } <span class="comment">// clear</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a6301d00938f393c344c943e70e31affe">  366</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a6301d00938f393c344c943e70e31affe">init</a>() {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    clear();</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    from_index_vec_.push_back(0);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a558eb6b70a5f2aaba1a0d7ccde2c0445">  377</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a558eb6b70a5f2aaba1a0d7ccde2c0445">init</a>(<span class="keyword">const</span> connection_vector_t &amp; cv) {</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    clear();</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// the first offset is always 0</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    from_index_vec_.push_back(0);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">// populate the to id&#39;s and add from offsets for each connectivity group</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <span class="keywordtype">size_t</span> start = index_space_.begin_push_();</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordtype">size_t</span> n = cv.size();</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordtype">size_t</span> from = 0;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keyword">const</span> id_vector_t &amp; iv = cv[i];</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="classflecsi_1_1id__.html">id_t</a> <span class="keywordtype">id</span> : iv) {</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        index_space_.batch_push_(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        ++from;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      } <span class="comment">// for</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      from_index_vec_.push_back(from);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    } <span class="comment">// for</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    index_space_.end_push_(start);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  } <span class="comment">// init</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a702826349a4265ed6a89f24c9365e01c">  411</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a702826349a4265ed6a89f24c9365e01c">resize</a>(index_vector_t &amp; num_conns)</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  {</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    clear();</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordtype">size_t</span> n = num_conns.size();</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    from_index_vec_.resize(n + 1);</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    uint64_t size = 0;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      from_index_vec_[i] = size;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      size += num_conns[i];</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    } <span class="comment">// for</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    from_index_vec_[n] = size;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    index_space_.resize_(size);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    index_space_.fill_(<a class="code" href="classflecsi_1_1id__.html">flecsi::id_t</a>(0));</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  } <span class="comment">// resize</span></div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a05fc194564cfa5a558d19a5bea4b9acb">  435</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a05fc194564cfa5a558d19a5bea4b9acb">end_from</a>() {</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    from_index_vec_.push_back(index_space_.size());</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  } <span class="comment">// end_from</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a2c879c7c0202e5444c242ddecfc393a4">  442</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a2c879c7c0202e5444c242ddecfc393a4">push</a>(<a class="code" href="classflecsi_1_1id__.html">id_t</a> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    index_space_.push_(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  } <span class="comment">// push</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a09a851cd02306d14b611ff59a7656a0e">  449</a></span>&#160;  std::ostream &amp; <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a09a851cd02306d14b611ff59a7656a0e">dump</a>( std::ostream &amp; stream )</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  {</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; from_index_vec_.size(); ++i) {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = from_index_vec_[i - 1]; j &lt; from_index_vec_[i]; ++j) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        stream &lt;&lt; index_space_(j).entity() &lt;&lt; std::endl;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="comment">// stream &lt;&lt; to_id_vec_[j] &lt;&lt; std::endl;</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      stream &lt;&lt; std::endl;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    stream &lt;&lt; <span class="stringliteral">&quot;=== id_vec&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="classflecsi_1_1id__.html">id_t</a> <span class="keywordtype">id</span> : index_space_.ids()) {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      stream &lt;&lt; <span class="keywordtype">id</span>.entity() &lt;&lt; std::endl;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    } <span class="comment">// for</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    stream &lt;&lt; <span class="stringliteral">&quot;=== group_vec&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> index : from_index_vec_) {</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      stream &lt;&lt; index &lt;&lt; std::endl;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    } <span class="comment">// for</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">return</span> stream;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  } <span class="comment">// dump</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordtype">void</span> dump()</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    dump( std::cout );</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  } <span class="comment">// dump</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a439074a19fab7950165f4dcf13a5308e">  479</a></span>&#160;  <span class="keyword">const</span> index_vector_t &amp; <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a439074a19fab7950165f4dcf13a5308e">get_from_index_vec</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> from_index_vec_; }</div><div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a8f5f42dcd184c9117a752af348c91eee">  483</a></span>&#160;  <span class="keyword">const</span> id_vector_t &amp; <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a8f5f42dcd184c9117a752af348c91eee">get_entities</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> index_space_.id_vec(); }</div><div class="line"><a name="l00487"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#aae53120c2d428ff46437f7fb37ea8524">  487</a></span>&#160;  <a class="code" href="classflecsi_1_1id__.html">id_t</a> * <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#aae53120c2d428ff46437f7fb37ea8524">get_entities</a>(<span class="keywordtype">size_t</span> index)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    assert(index &lt; from_index_vec_.size() - 1);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">return</span> index_space_.id_array() + from_index_vec_[index];</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a2ff359185443ce15a8ebff414eb8fee5">  496</a></span>&#160;  <a class="code" href="classflecsi_1_1id__.html">id_t</a> * <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a2ff359185443ce15a8ebff414eb8fee5">get_entities</a>(<span class="keywordtype">size_t</span> index, <span class="keywordtype">size_t</span> &amp; count)</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    assert(index &lt; from_index_vec_.size() - 1);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    uint64_t start = from_index_vec_[index];</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    count = from_index_vec_[index + 1] - start;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">return</span> index_space_.id_array() + start;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  }</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00508"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a7a8c7c44105ca7cefd3f59889dd428f9">  508</a></span>&#160;  <span class="keyword">auto</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a7a8c7c44105ca7cefd3f59889dd428f9">get_entity_vec</a>(<span class="keywordtype">size_t</span> index)<span class="keyword"> const</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    assert(index &lt; from_index_vec_.size() - 1);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keyword">auto</span> start = from_index_vec_[index];</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keyword">auto</span> count = from_index_vec_[index + 1] - start;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">return</span> utils::make_array_ref( index_space_.id_array() + start, count );</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  }</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#ae8f8cfa808c8edc6a612b6e5e5ebc059">  520</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#ae8f8cfa808c8edc6a612b6e5e5ebc059">reverse_entities</a>(<span class="keywordtype">size_t</span> index)</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    assert(index &lt; from_index_vec_.size() - 1);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keyword">auto</span> start = from_index_vec_[index];</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keyword">auto</span> end = from_index_vec_[index + 1];</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    std::reverse(index_space_.index_begin_() + start,</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                 index_space_.index_begin_() + end);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;  <span class="keyword">template</span>&lt; <span class="keyword">class</span> U &gt;</div><div class="line"><a name="l00534"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#afd140d5a347c2d5e7832f6d95db005ac">  534</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#afd140d5a347c2d5e7832f6d95db005ac">reorder_entities</a>(<span class="keywordtype">size_t</span> index, U &amp;&amp; order)</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    assert(index &lt; from_index_vec_.size() - 1);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keyword">auto</span> start = from_index_vec_[index];</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keyword">auto</span> count = from_index_vec_[index + 1] - start;</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    assert( order.size() == count );</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    utils::reorder( order.begin(), order.end(), index_space_.id_array() + start );</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a3ca1066399af979c3de645134f89ab15">  546</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a3ca1066399af979c3de645134f89ab15">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> index_space_.empty(); }</div><div class="line"><a name="l00550"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a783ee46feaec11bd8690f295618d372c">  550</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">size_t</span> from_local_id, <a class="code" href="classflecsi_1_1id__.html">id_t</a> to_id, <span class="keywordtype">size_t</span> pos)</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;  {</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    index_space_(from_index_vec_[from_local_id] + pos) = to_id;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a69040fd97248aebb8c8005664e77437f">  558</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a69040fd97248aebb8c8005664e77437f">from_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> from_index_vec_.size() - 1; }</div><div class="line"><a name="l00562"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#a980168d3b8f5248ec10e658aae723d2a">  562</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html#a980168d3b8f5248ec10e658aae723d2a">to_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> index_space_.size(); }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> M, <span class="keywordtype">size_t</span> N&gt;</div><div class="line"><a name="l00567"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1connectivity__t.html#ad1bfa33237bfe27237a76b068692e62b">  567</a></span>&#160;  <span class="keywordtype">void</span> <span class="keyword">set</span>(<a class="code" href="mesh__types_8h.html#ad4de101b07c0bf57ae1a06fdd59462ba">entity_vector_t&lt;N&gt;</a> &amp; ev, connection_vector_t &amp; conns)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    clear();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordtype">size_t</span> n = conns.size();</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    from_index_vec_.resize(n + 1);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordtype">size_t</span> size = 0;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; i++) {</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      from_index_vec_[i] = size;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      size += conns[i].size();</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    from_index_vec_[n] = size;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    index_space_.begin_push_(size);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <span class="keyword">const</span> id_vector_t &amp; conn = conns[i];</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;      uint64_t m = conn.size();</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; m; ++j) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        index_space_.batch_push_(ev[conn[j]]-&gt;<span class="keyword">template</span> global_id&lt;M&gt;());</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      }</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keyword">const</span> index_vector_t &amp; from_index_vec()<span class="keyword"> const</span></div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <span class="keywordflow">return</span> from_index_vec_;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  index_vector_t &amp; from_index_vec()</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">return</span> from_index_vec_;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keyword">const</span> <span class="keyword">auto</span>&amp; to_id_vec()<span class="keyword"> const</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="keywordflow">return</span> index_space_.id_vec();</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  }</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;  <span class="keyword">auto</span>&amp; to_id_vec()</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  {</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keywordflow">return</span> index_space_.id_vec_();</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  <span class="keyword">auto</span>&amp; get_index_space(){</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="keywordflow">return</span> index_space_;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  }</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;  <span class="keyword">auto</span>&amp; get_index_space()<span class="keyword"> const</span>{</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">return</span> index_space_;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;mesh_entity_base_*&gt;</a> index_space_; </div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  index_vector_t from_index_vec_;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}; <span class="comment">// class connectivity_t</span></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> D&gt;</div><div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1domain__connectivity.html">  632</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1domain__connectivity.html">domain_connectivity</a>{</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordtype">void</span> init_(<span class="keywordtype">size_t</span> from_domain, <span class="keywordtype">size_t</span> to_domain){</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    from_domain_ = from_domain;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    to_domain_ = to_domain;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> FD, <span class="keywordtype">size_t</span> TD&gt;</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp; <span class="keyword">get</span>(){</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    static_assert(FD &lt;= D, <span class="stringliteral">&quot;invalid from dimension&quot;</span>);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    static_assert(TD &lt;= D, <span class="stringliteral">&quot;invalid to dimension&quot;</span>);</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="keywordflow">return</span> conns_[FD][TD];</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> FD, <span class="keywordtype">size_t</span> TD&gt;</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp; <span class="keyword">get</span>() <span class="keyword">const</span>{</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    static_assert(FD &lt;= D, <span class="stringliteral">&quot;invalid from dimension&quot;</span>);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    static_assert(TD &lt;= D, <span class="stringliteral">&quot;invalid to dimension&quot;</span>);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">return</span> conns_[FD][TD];</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  }</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> FD&gt;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp; <span class="keyword">get</span>(<span class="keywordtype">size_t</span> to_dim){</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    static_assert(FD &lt;= D, <span class="stringliteral">&quot;invalid from dimension&quot;</span>);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    assert(to_dim &lt;= D &amp;&amp; <span class="stringliteral">&quot;invalid to dimension&quot;</span>);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> conns_[FD][to_dim];</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> FD&gt;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp; <span class="keyword">get</span>(<span class="keywordtype">size_t</span> to_dim) <span class="keyword">const</span>{</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    static_assert(FD &lt;= D, <span class="stringliteral">&quot;invalid from dimension&quot;</span>);</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    assert(to_dim &lt;= D &amp;&amp; <span class="stringliteral">&quot;invalid to dimension&quot;</span>);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">return</span> conns_[FD][to_dim];</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  }</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp; <span class="keyword">get</span>(<span class="keywordtype">size_t</span> from_dim, <span class="keywordtype">size_t</span> to_dim){</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    assert(from_dim &lt;= D &amp;&amp; <span class="stringliteral">&quot;invalid from dimension&quot;</span>);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    assert(to_dim &lt;= D &amp;&amp; <span class="stringliteral">&quot;invalid to dimension&quot;</span>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    <span class="keywordflow">return</span> conns_[from_dim][to_dim];</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>&amp; <span class="keyword">get</span>(<span class="keywordtype">size_t</span> from_dim, <span class="keywordtype">size_t</span> to_dim) <span class="keyword">const</span>{</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    assert(from_dim &lt;= D &amp;&amp; <span class="stringliteral">&quot;invalid from dimension&quot;</span>);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    assert(to_dim &lt;= D &amp;&amp; <span class="stringliteral">&quot;invalid to dimension&quot;</span>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordflow">return</span> conns_[from_dim][to_dim];</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  }</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> FD, <span class="keywordtype">size_t</span> ND&gt;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <a class="code" href="classflecsi_1_1id__.html">id_t</a>* get_entities(<a class="code" href="classflecsi_1_1topology_1_1mesh__entity__t.html">mesh_entity_t&lt;FD, ND&gt;</a>* from_ent, <span class="keywordtype">size_t</span> to_dim){</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">return</span> get&lt;FD&gt;(to_dim).get_entities(from_ent-&gt;id(from_domain_));</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> FD, <span class="keywordtype">size_t</span> ND&gt;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <a class="code" href="classflecsi_1_1id__.html">id_t</a>* get_entities(<a class="code" href="classflecsi_1_1topology_1_1mesh__entity__t.html">mesh_entity_t&lt;FD, ND&gt;</a>* from_ent,</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                     <span class="keywordtype">size_t</span> to_dim,</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                     <span class="keywordtype">size_t</span> &amp; count){</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">return</span> get&lt;FD&gt;(to_dim).get_entities(from_ent-&gt;id(from_domain_), count);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <a class="code" href="classflecsi_1_1id__.html">id_t</a>* get_entities(<a class="code" href="classflecsi_1_1id__.html">id_t</a> from_id, <span class="keywordtype">size_t</span> to_dim){</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">get</span>(from_id.dimension(), to_dim).get_entities(from_id.entity());</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <a class="code" href="classflecsi_1_1id__.html">id_t</a>* get_entities(<a class="code" href="classflecsi_1_1id__.html">id_t</a> from_id, <span class="keywordtype">size_t</span> to_dim, <span class="keywordtype">size_t</span> &amp; count){</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">get</span>(from_id.dimension(), to_dim).get_entities(from_id.entity(), count);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;  }</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">size_t</span> FD, <span class="keywordtype">size_t</span> ND&gt;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  <span class="keyword">auto</span> get_entity_vec(<a class="code" href="classflecsi_1_1topology_1_1mesh__entity__t.html">mesh_entity_t&lt;FD, ND&gt;</a>* from_ent, <span class="keywordtype">size_t</span> to_dim)<span class="keyword"> const</span></div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keyword">auto</span> &amp; conn = get&lt;FD&gt;(to_dim);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">return</span> conn.get_entity_vec( from_ent-&gt;id(from_domain_) );</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  }</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keyword">auto</span> get_entity_vec(<a class="code" href="classflecsi_1_1id__.html">id_t</a> from_id, <span class="keywordtype">size_t</span> to_dim)<span class="keyword"> const</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="keyword">auto</span> &amp; conn = <span class="keyword">get</span>(from_id.dimension(), to_dim);</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">return</span> conn.get_entity_vec( from_id.entity() );</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  std::ostream &amp; dump( std::ostream &amp; stream )</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  {</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; conns_.size(); ++i){</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      <span class="keyword">auto</span> &amp; ci = conns_[i];</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> j = 0; j &lt; ci.size(); ++j){</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        <span class="keyword">auto</span> &amp; cj = ci[j];</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        stream &lt;&lt; <span class="stringliteral">&quot;------------- &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; j &lt;&lt; std::endl;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        cj.dump( stream );</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      }</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordflow">return</span> stream;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  }</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordtype">void</span> dump(){</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    dump( std::cout );</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  }</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;  <span class="keyword">using</span> conn_array_t =</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    std::array&lt;std::array&lt;connectivity_t, D + 1&gt;, D + 1&gt;;</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;  conn_array_t conns_;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordtype">size_t</span> from_domain_;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordtype">size_t</span> to_domain_;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;};</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="keyword">template</span> &lt;<span class="keywordtype">size_t</span> D, <span class="keywordtype">size_t</span> NM&gt;</div><div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="structflecsi_1_1topology_1_1mesh__storage__t.html">  740</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflecsi_1_1topology_1_1mesh__storage__t.html">mesh_storage_t</a> {</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keyword">using</span> <a class="code" href="structflecsi_1_1topology_1_1mesh__storage__t.html#af6f9cde4793b2b1de5014f201fee08ae">index_spaces_t</a> = </div><div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="structflecsi_1_1topology_1_1mesh__storage__t.html#af6f9cde4793b2b1de5014f201fee08ae">  748</a></span>&#160;    std::array&lt;index_space&lt;mesh_entity_base_*, true, true, true&gt;, D + 1&gt;;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="comment">// array of array of domain_connectivity</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  std::array&lt;std::array&lt;domain_connectivity&lt;D&gt;, NM&gt;, NM&gt; topology;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  std::array&lt;index_spaces_t, NM&gt; index_spaces;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;}; <span class="comment">// struct mesh_storage_t</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;<span class="comment"> * class mesh_topology_base_t</span></div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">  767</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">mesh_topology_base_t</a> : <span class="keyword">public</span> <a class="code" href="classflecsi_1_1data_1_1data__client__t.html">data::data_client_t</a></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;{</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> num_entities(<span class="keywordtype">size_t</span> dim, <span class="keywordtype">size_t</span> domain) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> topological_dimension() <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a> &amp; get_connectivity(</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordtype">size_t</span> domain, <span class="keywordtype">size_t</span> from_dim, <span class="keywordtype">size_t</span> to_dim) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a> &amp; get_connectivity(</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordtype">size_t</span> domain, <span class="keywordtype">size_t</span> from_dim, <span class="keywordtype">size_t</span> to_dim) = 0;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a> &amp; get_connectivity(<span class="keywordtype">size_t</span> from_domain,</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="keywordtype">size_t</span> to_domain, <span class="keywordtype">size_t</span> from_dim, <span class="keywordtype">size_t</span> to_dim) <span class="keyword">const</span> = 0;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a> &amp; get_connectivity(</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordtype">size_t</span> from_domain, <span class="keywordtype">size_t</span> to_domain, <span class="keywordtype">size_t</span> from_dim, <span class="keywordtype">size_t</span> to_dim) = 0;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class </span>T, <span class="keyword">class</span>... S&gt;</div><div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html#ad9e245c5049d753ead6030085155da36">  811</a></span>&#160;  T * <a class="code" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html#ad9e245c5049d753ead6030085155da36">make</a>(S &amp;&amp;... args)</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  {</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    T * entity = <span class="keyword">new</span> T(std::forward&lt;S&gt;(args)...);</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">return</span> entity;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  } <span class="comment">// make</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> append_to_index_space_(<span class="keywordtype">size_t</span> domain,</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordtype">size_t</span> dimension,</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    std::vector&lt;mesh_entity_base_*&gt;&amp; ents,</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    std::vector&lt;id_t&gt;&amp; ids) = 0;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;}; <span class="comment">// mesh_topology_base_t</span></div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">class</span> MT, <span class="keywordtype">size_t</span> D, <span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;<span class="keyword">using</span> entity_type_ = <span class="keyword">typename</span> <a class="code" href="structflecsi_1_1topology_1_1find__entity__.html#a2fd97d8ae40a5d5d03e0c43815acb550">find_entity_&lt;MT, D, M&gt;::type</a>;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> MT, <span class="keywordtype">size_t</span> NM, <span class="keywordtype">size_t</span> M, <span class="keywordtype">size_t</span> D&gt;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;<span class="keywordtype">void</span> unserialize_dimension_(<a class="code" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">mesh_topology_base_t</a>&amp; mesh,</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                            <span class="keywordtype">char</span>* buf,</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                            uint64_t&amp; pos){</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  uint64_t num_entities;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  std::memcpy(&amp;num_entities, buf + pos, <span class="keyword">sizeof</span>(num_entities));</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  pos += <span class="keyword">sizeof</span>(num_entities);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  std::vector&lt;mesh_entity_base_*&gt; ents;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  std::vector&lt;id_t&gt; ids;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  ents.reserve(num_entities);</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  ids.reserve(num_entities);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// TODO - fix</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keywordtype">size_t</span> partition_id = 0;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> local_id = 0; local_id &lt; num_entities; ++local_id){</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <a class="code" href="classflecsi_1_1id__.html">id_t</a> global_id = id_t::make&lt;D, M&gt;(local_id, partition_id);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    <span class="keyword">auto</span> ent = <span class="keyword">new</span> entity_type_&lt;MT, D, M&gt;();</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    ent-&gt;template set_global_id&lt;M&gt;(global_id);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    ents.push_back(ent);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    ids.push_back(global_id);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  }</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;  mesh.append_to_index_space_(M, D, ents, ids);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;}</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> MT, <span class="keywordtype">size_t</span> NM, <span class="keywordtype">size_t</span> ND, <span class="keywordtype">size_t</span> M, <span class="keywordtype">size_t</span> D&gt;</div><div class="line"><a name="l00856"></a><span class="lineno"><a class="line" href="structflecsi_1_1topology_1_1unserialize__dimensions__.html">  856</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflecsi_1_1topology_1_1unserialize__dimensions__.html">unserialize_dimensions_</a>{</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> unserialize(<a class="code" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">mesh_topology_base_t</a>&amp; mesh,</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                          <span class="keywordtype">char</span>* buf,</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                          uint64_t&amp; pos){</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    unserialize_dimension_&lt;MT, NM, M, D&gt;(mesh, buf, pos);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <a class="code" href="structflecsi_1_1topology_1_1unserialize__dimensions__.html">unserialize_dimensions_&lt;MT, NM, ND, M, D + 1&gt;::unserialize</a>(mesh, buf, pos);</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  }</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;};</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> MT, <span class="keywordtype">size_t</span> NM, <span class="keywordtype">size_t</span> ND, <span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00868"></a><span class="lineno"><a class="line" href="structflecsi_1_1topology_1_1unserialize__dimensions___3_01MT_00_01NM_00_01ND_00_01M_00_01ND_01_4.html">  868</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflecsi_1_1topology_1_1unserialize__dimensions__.html">unserialize_dimensions_</a>&lt;MT, NM, ND, M, ND&gt;{</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> unserialize(<a class="code" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">mesh_topology_base_t</a>&amp; mesh,</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                          <span class="keywordtype">char</span>* buf,</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                          uint64_t&amp; pos){</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    unserialize_dimension_&lt;MT, NM, M, ND&gt;(mesh, buf, pos);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;};</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> MT, <span class="keywordtype">size_t</span> NM, <span class="keywordtype">size_t</span> ND, <span class="keywordtype">size_t</span> M&gt;</div><div class="line"><a name="l00879"></a><span class="lineno"><a class="line" href="structflecsi_1_1topology_1_1unserialize__domains__.html">  879</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflecsi_1_1topology_1_1unserialize__domains__.html">unserialize_domains_</a>{</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> unserialize(<a class="code" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">mesh_topology_base_t</a>&amp; mesh,</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                          <span class="keywordtype">char</span>* buf,</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                          uint64_t&amp; pos){</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <a class="code" href="structflecsi_1_1topology_1_1unserialize__dimensions__.html">unserialize_dimensions_&lt;MT, NM, ND, M, 0&gt;::unserialize</a>(mesh, buf, pos);</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <a class="code" href="structflecsi_1_1topology_1_1unserialize__domains__.html">unserialize_domains_&lt;MT, NM, ND, M + 1&gt;::unserialize</a>(mesh, buf, pos);</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;};</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class</span> MT, <span class="keywordtype">size_t</span> NM, <span class="keywordtype">size_t</span> ND&gt;</div><div class="line"><a name="l00891"></a><span class="lineno"><a class="line" href="structflecsi_1_1topology_1_1unserialize__domains___3_01MT_00_01NM_00_01ND_00_01NM_01_4.html">  891</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structflecsi_1_1topology_1_1unserialize__domains__.html">unserialize_domains_</a>&lt;MT, NM, ND, NM&gt;{</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">void</span> unserialize(<a class="code" href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">mesh_topology_base_t</a>&amp; mesh,</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                          <span class="keywordtype">char</span>* buf,</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                          uint64_t&amp; pos){</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  }</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;};</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;} <span class="comment">// namespace topology</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;} <span class="comment">// namespace flecsi</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="preprocessor">#endif // flecsi_mesh_types_h</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">/*~-------------------------------------------------------------------------~-*</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment"> * Formatting options</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment"> * vim: set tabstop=2 shiftwidth=2 expandtab :</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment"> *~-------------------------------------------------------------------------~-*/</span></div><div class="ttc" id="mesh__utils_8h_html"><div class="ttname"><a href="mesh__utils_8h.html">mesh_utils.h</a></div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a558eb6b70a5f2aaba1a0d7ccde2c0445"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a558eb6b70a5f2aaba1a0d7ccde2c0445">flecsi::topology::connectivity_t::init</a></div><div class="ttdeci">void init(const connection_vector_t &amp;cv)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:377</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1mesh__topology__base__t_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1mesh__topology__base__t.html">flecsi::topology::mesh_topology_base_t</a></div><div class="ttdoc">contains methods and data about the mesh topology that do not depend on type parameterization, e.g: entity types, domains, etc. </div><div class="ttdef"><b>Definition:</b> mesh_types.h:767</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a8f5f42dcd184c9117a752af348c91eee"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a8f5f42dcd184c9117a752af348c91eee">flecsi::topology::connectivity_t::get_entities</a></div><div class="ttdeci">const id_vector_t &amp; get_entities() const </div><div class="ttdef"><b>Definition:</b> mesh_types.h:483</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1domain__connectivity_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1domain__connectivity.html">flecsi::topology::domain_connectivity</a></div><div class="ttdef"><b>Definition:</b> mesh_types.h:632</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a980168d3b8f5248ec10e658aae723d2a"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a980168d3b8f5248ec10e658aae723d2a">flecsi::topology::connectivity_t::to_size</a></div><div class="ttdeci">size_t to_size() const </div><div class="ttdef"><b>Definition:</b> mesh_types.h:562</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1mesh__entity__t_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1mesh__entity__t.html">flecsi::topology::mesh_entity_t</a></div><div class="ttdoc">mesh_entity_t parameterizes a mesh entity base with its dimension and number of domains ...</div><div class="ttdef"><b>Definition:</b> mesh_types.h:187</div></div>
<div class="ttc" id="classflecsi_1_1id___html"><div class="ttname"><a href="classflecsi_1_1id__.html">flecsi::id_&lt; FLECSI_ID_PBITS, FLECSI_ID_EBITS, FLECSI_ID_FBITS, FLECSI_ID_GBITS &gt;</a></div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a2c879c7c0202e5444c242ddecfc393a4"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a2c879c7c0202e5444c242ddecfc393a4">flecsi::topology::connectivity_t::push</a></div><div class="ttdeci">void push(id_t id)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:442</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space.html">flecsi::topology::index_space</a></div><div class="ttdoc">index_space provides a compile-time configurable and iterable container of objects, e.g. mesh/tree topology entities and their id&amp;#39;s. Index space defines the concept of STORAGE - whether the actual entities referenced are stored within this index space OR contained in a &amp;#39;master&amp;#39; index space. OWNERSHIP - whether its set of id&amp;#39;s are owned by this index space or aliased to another index space and then must be copied before this index space can then modify them. SORTED - refers to if the id&amp;#39;s are sorted and can then have set operations directly applied to them, else the index space must first be sorted. To make operations on index spaces faster, the index space is parameterized on a number of these parameters and can be efficiently recast depending on how it is to be used: STORAGE - if true then this is a &amp;#39;master&amp;#39; index space with its own storage. OWNED - if true then id ownership is definitely true, else must check owned_ at runtime. SORTED - if true then id&amp;#39;s are definitely stored and shall remain in sorted order. </div><div class="ttdef"><b>Definition:</b> index_space.h:51</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_ae8f8cfa808c8edc6a612b6e5e5ebc059"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#ae8f8cfa808c8edc6a612b6e5e5ebc059">flecsi::topology::connectivity_t::reverse_entities</a></div><div class="ttdeci">void reverse_entities(size_t index)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:520</div></div>
<div class="ttc" id="mesh__types_8h_html_ad4de101b07c0bf57ae1a06fdd59462ba"><div class="ttname"><a href="mesh__types_8h.html#ad4de101b07c0bf57ae1a06fdd59462ba">flecsi::topology::entity_vector_t</a></div><div class="ttdeci">std::vector&lt; mesh_entity_base_t&lt; N &gt; * &gt; entity_vector_t</div><div class="ttdef"><b>Definition:</b> mesh_types.h:202</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1mesh__topology__base__t_html_ad9e245c5049d753ead6030085155da36"><div class="ttname"><a href="classflecsi_1_1topology_1_1mesh__topology__base__t.html#ad9e245c5049d753ead6030085155da36">flecsi::topology::mesh_topology_base_t::make</a></div><div class="ttdeci">T * make(S &amp;&amp;...args)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:811</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1domain__entity_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1domain__entity.html">flecsi::topology::domain_entity</a></div><div class="ttdoc">domain_entity is a simple wrapper to mesh entity that associates with it a domain id ...</div><div class="ttdef"><b>Definition:</b> mesh_types.h:219</div></div>
<div class="ttc" id="classflecsi_1_1data_1_1data__client__t_html"><div class="ttname"><a href="classflecsi_1_1data_1_1data__client__t.html">flecsi::data::data_client_t</a></div><div class="ttdef"><b>Definition:</b> data_client.h:25</div></div>
<div class="ttc" id="structflecsi_1_1topology_1_1mesh__storage__t_html"><div class="ttname"><a href="structflecsi_1_1topology_1_1mesh__storage__t.html">flecsi::topology::mesh_storage_t</a></div><div class="ttdef"><b>Definition:</b> mesh_types.h:740</div></div>
<div class="ttc" id="structflecsi_1_1topology_1_1unserialize__dimensions___html"><div class="ttname"><a href="structflecsi_1_1topology_1_1unserialize__dimensions__.html">flecsi::topology::unserialize_dimensions_</a></div><div class="ttdef"><b>Definition:</b> mesh_types.h:856</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a7a8c7c44105ca7cefd3f59889dd428f9"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a7a8c7c44105ca7cefd3f59889dd428f9">flecsi::topology::connectivity_t::get_entity_vec</a></div><div class="ttdeci">auto get_entity_vec(size_t index) const </div><div class="ttdef"><b>Definition:</b> mesh_types.h:508</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a3ca1066399af979c3de645134f89ab15"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a3ca1066399af979c3de645134f89ab15">flecsi::topology::connectivity_t::empty</a></div><div class="ttdeci">bool empty() const </div><div class="ttdef"><b>Definition:</b> mesh_types.h:546</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a05fc194564cfa5a558d19a5bea4b9acb"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a05fc194564cfa5a558d19a5bea4b9acb">flecsi::topology::connectivity_t::end_from</a></div><div class="ttdeci">void end_from()</div><div class="ttdef"><b>Definition:</b> mesh_types.h:435</div></div>
<div class="ttc" id="structflecsi_1_1topology_1_1unserialize__domains___html"><div class="ttname"><a href="structflecsi_1_1topology_1_1unserialize__domains__.html">flecsi::topology::unserialize_domains_</a></div><div class="ttdef"><b>Definition:</b> mesh_types.h:879</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1mesh__entity__base__t_html_abd1dbfeff4090d6cba98ba146cd7a84b"><div class="ttname"><a href="classflecsi_1_1topology_1_1mesh__entity__base__t.html#abd1dbfeff4090d6cba98ba146cd7a84b">flecsi::topology::mesh_entity_base_t::global_id</a></div><div class="ttdeci">id_t global_id() const </div><div class="ttdef"><b>Definition:</b> mesh_types.h:112</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1mesh__topology__t_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1mesh__topology__t.html">flecsi::topology::mesh_topology_t</a></div><div class="ttdoc">mesh_topology_t is parameterized on a class (MT) which gives information about its entity types...</div><div class="ttdef"><b>Definition:</b> mesh_topology.h:173</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1entity__group_1_1iterator___html"><div class="ttname"><a href="classflecsi_1_1topology_1_1entity__group_1_1iterator__.html">flecsi::topology::entity_group::iterator_</a></div><div class="ttdef"><b>Definition:</b> mesh_types.h:269</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a09a851cd02306d14b611ff59a7656a0e"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a09a851cd02306d14b611ff59a7656a0e">flecsi::topology::connectivity_t::dump</a></div><div class="ttdeci">std::ostream &amp; dump(std::ostream &amp;stream)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:449</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1entity__group_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1entity__group.html">flecsi::topology::entity_group</a></div><div class="ttdoc">entity_group is an ordered collection of entities. this can be used for grouping of entities where gl...</div><div class="ttdef"><b>Definition:</b> mesh_types.h:260</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1mesh__entity__base___html"><div class="ttname"><a href="classflecsi_1_1topology_1_1mesh__entity__base__.html">flecsi::topology::mesh_entity_base_</a></div><div class="ttdef"><b>Definition:</b> mesh_types.h:95</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1mesh__entity__base__t_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1mesh__entity__base__t.html">flecsi::topology::mesh_entity_base_t</a></div><div class="ttdoc">mesh_entity_base_t defines a base class that stores the raw info that the mesh topology needs...</div><div class="ttdef"><b>Definition:</b> mesh_types.h:101</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a24ff9719c5baf555f1cd2a273911a887"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a24ff9719c5baf555f1cd2a273911a887">flecsi::topology::connectivity_t::connectivity_t</a></div><div class="ttdeci">connectivity_t()</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> mesh_types.h:351</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a69040fd97248aebb8c8005664e77437f"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a69040fd97248aebb8c8005664e77437f">flecsi::topology::connectivity_t::from_size</a></div><div class="ttdeci">size_t from_size() const </div><div class="ttdef"><b>Definition:</b> mesh_types.h:558</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a578dc8dd05bb20470e80dd269dbc3b5c"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a578dc8dd05bb20470e80dd269dbc3b5c">flecsi::topology::connectivity_t::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> mesh_types.h:357</div></div>
<div class="ttc" id="structflecsi_1_1topology_1_1mesh__storage__t_html_af6f9cde4793b2b1de5014f201fee08ae"><div class="ttname"><a href="structflecsi_1_1topology_1_1mesh__storage__t.html#af6f9cde4793b2b1de5014f201fee08ae">flecsi::topology::mesh_storage_t::index_spaces_t</a></div><div class="ttdeci">std::array&lt; index_space&lt; mesh_entity_base_ *, true, true, true &gt;, D+1 &gt; index_spaces_t</div><div class="ttdef"><b>Definition:</b> mesh_types.h:748</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a6301d00938f393c344c943e70e31affe"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a6301d00938f393c344c943e70e31affe">flecsi::topology::connectivity_t::init</a></div><div class="ttdeci">void init()</div><div class="ttdef"><b>Definition:</b> mesh_types.h:366</div></div>
<div class="ttc" id="structflecsi_1_1topology_1_1typeify_html"><div class="ttname"><a href="structflecsi_1_1topology_1_1typeify.html">flecsi::topology::typeify</a></div><div class="ttdef"><b>Definition:</b> mesh_types.h:44</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html">flecsi::topology::connectivity_t</a></div><div class="ttdoc">connectivity_t provides basic connectivity information in a compressed storage format. </div><div class="ttdef"><b>Definition:</b> mesh_types.h:342</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a2ff359185443ce15a8ebff414eb8fee5"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a2ff359185443ce15a8ebff414eb8fee5">flecsi::topology::connectivity_t::get_entities</a></div><div class="ttdeci">id_t * get_entities(size_t index, size_t &amp;count)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:496</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1entity__group_html_ab6be38bb509677a2119e968fe5ad84fe"><div class="ttname"><a href="classflecsi_1_1topology_1_1entity__group.html#ab6be38bb509677a2119e968fe5ad84fe">flecsi::topology::entity_group::entity_group</a></div><div class="ttdeci">entity_group()</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> mesh_types.h:308</div></div>
<div class="ttc" id="array__ref_8h_html"><div class="ttname"><a href="array__ref_8h.html">array_ref.h</a></div><div class="ttdoc">A reference array to avoid a million overloads. </div></div>
<div class="ttc" id="structflecsi_1_1topology_1_1find__entity___html_a2fd97d8ae40a5d5d03e0c43815acb550"><div class="ttname"><a href="structflecsi_1_1topology_1_1find__entity__.html#a2fd97d8ae40a5d5d03e0c43815acb550">flecsi::topology::find_entity_::type</a></div><div class="ttdeci">typename std::tuple_element&lt; 1, pair_ &gt;::type type</div><div class="ttdef"><b>Definition:</b> mesh_utils.h:112</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_aae53120c2d428ff46437f7fb37ea8524"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#aae53120c2d428ff46437f7fb37ea8524">flecsi::topology::connectivity_t::get_entities</a></div><div class="ttdeci">id_t * get_entities(size_t index)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:487</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_afd140d5a347c2d5e7832f6d95db005ac"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#afd140d5a347c2d5e7832f6d95db005ac">flecsi::topology::connectivity_t::reorder_entities</a></div><div class="ttdeci">void reorder_entities(size_t index, U &amp;&amp;order)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:534</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a702826349a4265ed6a89f24c9365e01c"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a702826349a4265ed6a89f24c9365e01c">flecsi::topology::connectivity_t::resize</a></div><div class="ttdeci">void resize(index_vector_t &amp;num_conns)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:411</div></div>
<div class="ttc" id="reorder_8h_html"><div class="ttname"><a href="reorder_8h.html">reorder.h</a></div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1mesh__entity__base__t_html_aad835b9a69c45801fd82319c9462ba50"><div class="ttname"><a href="classflecsi_1_1topology_1_1mesh__entity__base__t.html#aad835b9a69c45801fd82319c9462ba50">flecsi::topology::mesh_entity_base_t::set_global_id</a></div><div class="ttdeci">void set_global_id(const id_t &amp;id)</div><div class="ttdef"><b>Definition:</b> mesh_types.h:143</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html_a439074a19fab7950165f4dcf13a5308e"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html#a439074a19fab7950165f4dcf13a5308e">flecsi::topology::connectivity_t::get_from_index_vec</a></div><div class="ttdeci">const index_vector_t &amp; get_from_index_vec() const </div><div class="ttdef"><b>Definition:</b> mesh_types.h:479</div></div>
<div class="ttc" id="namespaceflecsi_html"><div class="ttname"><a href="namespaceflecsi.html">flecsi</a></div><div class="ttdoc">user includes </div><div class="ttdef"><b>Definition:</b> thread_pool.h:37</div></div>
<div class="ttc" id="structflecsi_1_1topology_1_1id__vector__hash__t_html"><div class="ttname"><a href="structflecsi_1_1topology_1_1id__vector__hash__t.html">flecsi::topology::id_vector_hash_t</a></div><div class="ttdef"><b>Definition:</b> mesh_types.h:62</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
