<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>flecsi: /home/flecsi/flecsi/flecsi/topology/index_space.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="small-flecsi.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">flecsi
   &#160;<span id="projectnumber">0.0-1571-gcd6be53</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_688c864b7b93022ab3a371d21adf78fb.html">flecsi</a></li><li class="navelem"><a class="el" href="dir_fa984fdc1f8d7593d1791a3e6fdaa211.html">topology</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">index_space.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*~--------------------------------------------------------------------------~*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  @@@@@@@@  @@           @@@@@@   @@@@@@@@ @@</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * /@@/////  /@@          @@////@@ @@////// /@@</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * /@@       /@@  @@@@@  @@    // /@@       /@@</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * /@@@@@@@  /@@ @@///@@/@@       /@@@@@@@@@/@@</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * /@@////   /@@/@@@@@@@/@@       ////////@@/@@</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * /@@       /@@/@@//// //@@    @@       /@@/@@</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * /@@       @@@//@@@@@@ //@@@@@@  @@@@@@@@ /@@</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * //       ///  //////   //////  ////////  //</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * Copyright (c) 2016 Los Alamos National Laboratory, LLC</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * All rights reserved</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *~--------------------------------------------------------------------------~*/</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;type_traits&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceflecsi.html">flecsi</a> {</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">namespace </span>topology {</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/*----------------------------------------------------------------------------*</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment"> * class index_space</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> *----------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">class </span>T,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;         <span class="keywordtype">bool</span> STORAGE = <span class="keyword">false</span>,</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;         <span class="keywordtype">bool</span> OWNED = <span class="keyword">true</span>,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;         <span class="keywordtype">bool</span> SORTED = <span class="keyword">false</span>,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;         <span class="keyword">class </span>F = <span class="keywordtype">void</span>&gt;</div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space.html">   51</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>{</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keyword">using</span> id_t = <span class="keyword">typename</span> std::remove_pointer&lt;T&gt;::type::id_t;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  </div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keyword">using</span> id_vector_t = std::vector&lt;id_t&gt;;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keyword">using</span> item_vector_t = std::vector&lt;T&gt;;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keyword">using</span> item_t = <span class="keyword">typename</span> std::remove_pointer&lt;T&gt;::type;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keyword">using</span> filter_function = std::function&lt;bool(T&amp;)&gt;;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keyword">using</span> apply_function = std::function&lt;void(T&amp;)&gt;;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> S&gt;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keyword">using</span> map_function = std::function&lt;S(T&amp;)&gt;;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> S&gt;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keyword">using</span> reduce_function = std::function&lt;void(T&amp;, S&amp;)&gt;;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">   73</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">id_range_</a>{</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">id_range_</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">id_range_</a>&amp; r)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    : items_(r.items_), begin_(r.begin_), end_(r.end_){}</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">id_range_</a>(<span class="keyword">const</span> id_vector_t&amp; items)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    : items_(&amp;items), begin_(0), end_(items_-&gt;size()){}</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">id_range_</a>(<span class="keyword">const</span> id_vector_t&amp; items, <span class="keywordtype">size_t</span> begin, <span class="keywordtype">size_t</span> end)</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    : items_(&amp;items), begin_(begin), end_(end){}</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">id_range_</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">id_range_</a>&amp; r){</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      items_ = r.items_;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      begin_ = r.begin_;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      end_ = r.end_;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">typename</span> id_vector_t::const_iterator begin()<span class="keyword"> const</span>{ </div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">return</span> items_-&gt;begin() + begin_;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">typename</span> id_vector_t::const_iterator end()<span class="keyword"> const</span>{ </div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keywordflow">return</span> items_-&gt;begin() + end_;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">private</span>:</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">const</span> id_vector_t* items_;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordtype">size_t</span> begin_;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">size_t</span> end_;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  };</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> S&gt;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">  108</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <span class="keyword">public</span>:</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keyword">using</span> MS = <span class="keyword">typename</span> std::remove_const&lt;S&gt;::type;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>&amp; itr)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    : items_(itr.items_), index_(itr.index_), end_(itr.end_), s_(itr.s_){}</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>(item_vector_t* s, <span class="keyword">const</span> id_vector_t&amp; items, <span class="keywordtype">size_t</span> index, <span class="keywordtype">size_t</span> end)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    : items_(&amp;items), index_(index), end_(end), s_(s){}</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>(<span class="keyword">const</span> item_vector_t* s, <span class="keyword">const</span> id_vector_t&amp; items, <span class="keywordtype">size_t</span> index, <span class="keywordtype">size_t</span> end)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    : items_(&amp;items), index_(index), end_(end), s_(const_cast&lt;item_vector_t*&gt;(s)){}</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>&amp; operator++(){</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      ++index_;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    }</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a> &amp; itr){</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      index_ = itr.index_;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      end_ = itr.end_;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      items_ = itr.items_;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      s_ = itr.s_;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordtype">bool</span> operator==(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>&amp; itr)<span class="keyword"> const</span>{</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">return</span> index_ == itr.index_;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    }</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">bool</span> operator!=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>&amp; itr)<span class="keyword"> const</span>{</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      <span class="keywordflow">return</span> index_ != itr.index_;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    T&amp; get_(<span class="keywordtype">size_t</span> index){</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      <span class="keywordflow">return</span> (*s_)[(*items_)[index].index_space_index()];</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   <span class="keyword">protected</span>:</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keyword">const</span> id_vector_t* items_;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">size_t</span> index_;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordtype">size_t</span> end_;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    item_vector_t* s_;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  };</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> S, <span class="keyword">class</span> P&gt;</div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">  157</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a> : <span class="keyword">public</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>&lt;S&gt;{</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keyword">using</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">B</a> = <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_&lt;S&gt;</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>&amp; itr)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    : <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">B</a>(itr){}</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>(item_vector_t* s, <span class="keyword">const</span> id_vector_t&amp; items, <span class="keywordtype">size_t</span> index, <span class="keywordtype">size_t</span> end)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    : <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">B</a>(s, items, index, end){}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>(<span class="keyword">const</span> item_vector_t* s, <span class="keyword">const</span> id_vector_t&amp; items, <span class="keywordtype">size_t</span> index, <span class="keywordtype">size_t</span> end)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    : <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">B</a>(s, items, index, end){}</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    S&amp; operator*(){</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">while</span>(B::index_ &lt; B::end_){</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        T&amp; item = B::get_(B::index_);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">if</span>(P()(item)){</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          <span class="keywordflow">return</span> item;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        ++B::index_;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      assert(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;end of range&quot;</span>);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    S* operator-&gt;(){</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keywordflow">while</span>(B::index_ &lt; B::end_){</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        T&amp; item = B::get_(B::index_);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">if</span>(P()(item)){</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;          <span class="keywordflow">return</span> &amp;item;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        ++B::index_;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      assert(<span class="keyword">false</span> &amp;&amp; <span class="stringliteral">&quot;end of range&quot;</span>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  };</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> S&gt;</div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space_1_1iterator___3_01S_00_01void_01_4.html">  199</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>&lt;S, void&gt; : <span class="keyword">public</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_</a>&lt;S&gt;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keyword">public</span>:</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keyword">using</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">B</a> = <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">iterator_base_&lt;S&gt;</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>&amp; itr)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    : <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">B</a>(itr){}</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>(item_vector_t* s, <span class="keyword">const</span> id_vector_t&amp; items, <span class="keywordtype">size_t</span> index, <span class="keywordtype">size_t</span> end)</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    : <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">B</a>(s, items, index, end){}</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">iterator_</a>(<span class="keyword">const</span> item_vector_t* s, <span class="keyword">const</span> id_vector_t&amp; items, <span class="keywordtype">size_t</span> index, <span class="keywordtype">size_t</span> end)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    : <a class="code" href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">B</a>(s, items, index, end){}</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    S&amp; operator*(){</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">return</span> B::get_(B::index_);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    S* operator-&gt;(){</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="keywordflow">return</span> &amp;B::get_(B::index_);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  };</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>(<span class="keywordtype">bool</span> storage = STORAGE)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  : v_(<span class="keyword">new</span> id_vector_t), begin_(0), end_(0), owned_(<span class="keyword">true</span>),</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    sorted_(SORTED), s_(storage ? <span class="keyword">new</span> item_vector_t : <span class="keyword">nullptr</span>){</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    assert((STORAGE || !storage) &amp;&amp; <span class="stringliteral">&quot;invalid instantiation&quot;</span>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> S, <span class="keywordtype">bool</span> STORAGE2, <span class="keywordtype">bool</span> OWNED2, <span class="keywordtype">bool</span> SORTED2, <span class="keyword">class</span> F2&gt; </div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space.html#a956d9f7d8b0e0e0f94f84518a783cfc5">  232</a></span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html#a956d9f7d8b0e0e0f94f84518a783cfc5">index_space</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;S, STORAGE2, OWNED2, SORTED2, F2&gt;</a>&amp; is,</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;              <span class="keywordtype">size_t</span> begin, <span class="keywordtype">size_t</span> end)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  : v_(is.v_), begin_(begin), end_(end), owned_(false),</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    sorted_(is.sorted_), s_(reinterpret_cast&lt;item_vector_t*&gt;(is.s_)){</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    static_assert(std::is_convertible&lt;T,S&gt;::value,</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                  <span class="stringliteral">&quot;invalid index space construction&quot;</span>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    static_assert(!STORAGE, <span class="stringliteral">&quot;expected !STORAGE&quot;</span>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    static_assert(!OWNED, <span class="stringliteral">&quot;expected !OWNED&quot;</span>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space.html#ac583260d297a5d74017eff493cd89b26">  246</a></span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html#ac583260d297a5d74017eff493cd89b26">index_space</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; is)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  : v_(OWNED ? new id_vector_t(*is.v_) : is.v_),</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    begin_(is.begin_), end_(is.end_), owned_(OWNED), sorted_(is.sorted_), </div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    s_(is.s_){</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    assert(s_ &amp;&amp; <span class="stringliteral">&quot;no storage&quot;</span>);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    static_assert(!STORAGE, <span class="stringliteral">&quot;expected !STORAGE&quot;</span>);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>(<a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp;&amp; is)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  : v_(is.v_), begin_(is.begin_), end_(is.end_),</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  sorted_(is.sorted_), s_(is.s_){</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">if</span>(OWNED || is.owned_){</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      is.v_ = <span class="keyword">new</span> id_vector_t;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      owned_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      owned_ = <span class="keyword">false</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">if</span>(STORAGE){</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      is.s_ = <span class="keyword">new</span> item_vector_t;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  }</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  ~<a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>(){</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">if</span>(OWNED || owned_){</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keyword">delete</span> v_;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">if</span>(STORAGE){</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keyword">delete</span> s_;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space.html#a8998d02dbeb9c7af2a1231a477b6ce21">  284</a></span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; <a class="code" href="classflecsi_1_1topology_1_1index__space.html#a8998d02dbeb9c7af2a1231a477b6ce21">operator=</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; is){</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    assert(!STORAGE &amp;&amp; <span class="stringliteral">&quot;invalid assignment&quot;</span>);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordflow">if</span>(OWNED){</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <span class="keyword">delete</span> v_;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      v_ = <span class="keyword">new</span> id_vector_t(*is.v_);</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      owned_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      v_ = is.v_;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      owned_ = <span class="keyword">false</span>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    begin_ = is.begin_;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    end_ = is.end_;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    sorted_ = is.sorted_;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    s_ = is.s_;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    </div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; operator=(<a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp;&amp; is){</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    v_ = is.v_;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span>(OWNED || is.owned_){</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      is.v_ = <span class="keyword">new</span> id_vector_t;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      owned_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      owned_ = <span class="keyword">false</span>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    begin_ = is.begin_;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    end_ = is.end_;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    sorted_ = is.sorted_;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    s_ = is.s_;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span>(STORAGE){</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      is.s_ = <span class="keyword">new</span> item_vector_t;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    </div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  }</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class </span>S, <span class="keywordtype">bool</span> STORAGE2 = STORAGE, <span class="keywordtype">bool</span> OWNED2 = OWNED,</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">bool</span> SORTED2 = SORTED, <span class="keyword">class </span>F2 = F&gt;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keyword">auto</span>&amp; cast(){</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    static_assert(std::is_convertible&lt;S,T&gt;::value,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                  <span class="stringliteral">&quot;invalid index space cast&quot;</span>);</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;S,STORAGE2,OWNED2,SORTED2,F2&gt;</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;  }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class </span>S, <span class="keywordtype">bool</span> STORAGE2 = STORAGE, <span class="keywordtype">bool</span> OWNED2 = OWNED,</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keywordtype">bool</span> SORTED2 = SORTED, <span class="keyword">class </span>F2 = F&gt;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keyword">auto</span>&amp; cast()<span class="keyword"> const</span>{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    static_assert(std::is_convertible&lt;S,T&gt;::value,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                  <span class="stringliteral">&quot;invalid index space cast&quot;</span>);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">reinterpret_cast&lt;</span><span class="keyword">const </span><a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;S,STORAGE2,OWNED2,SORTED2,F2&gt;</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  }</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keyword">auto</span> begin(){ </div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <span class="keywordflow">return</span> iterator_&lt;T, F&gt;(s_, *v_, begin_, end_);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keyword">auto</span> begin()<span class="keyword"> const</span>{ </div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">return</span> iterator_&lt;const T, F&gt;(s_, *v_, begin_, end_);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keyword">auto</span> end(){</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span> iterator_&lt;T, F&gt;(s_, *v_, end_, end_); </div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keyword">auto</span> end()<span class="keyword"> const</span>{</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">return</span> iterator_&lt;const T, F&gt;(s_, *v_, end_, end_); </div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordtype">size_t</span> begin_offset()<span class="keyword"> const</span>{</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">return</span> begin_;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordtype">size_t</span> end_offset()<span class="keyword"> const</span>{</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordflow">return</span> end_;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  T&amp; get_offset(<span class="keywordtype">size_t</span> offset){</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">return</span> (*s_)[(*v_)[offset].index_space_index()];</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <span class="keyword">const</span> T&amp; get_offset(<span class="keywordtype">size_t</span> offset)<span class="keyword"> const</span>{</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> (*s_)[(*v_)[offset].index_space_index()];</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  }  </div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  id_range_ ids()<span class="keyword"> const</span>{</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="keywordflow">return</span> id_range_(*v_, begin_, end_);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  id_range_ ids(<span class="keywordtype">size_t</span> begin, <span class="keywordtype">size_t</span> end)<span class="keyword"> const</span>{</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">return</span> id_range_(*v_, begin, end);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  }</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> S = T&gt;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keyword">auto</span> slice(<span class="keywordtype">size_t</span> begin, <span class="keywordtype">size_t</span> end)<span class="keyword"> const</span>{</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;S, false, false, SORTED&gt;</a>(*<span class="keyword">this</span>, begin, end);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> S = T&gt;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keyword">auto</span> slice()<span class="keyword"> const</span>{</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;S, false, false, SORTED&gt;</a>(*<span class="keyword">this</span>, begin_, end_);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  T&amp; get_(<span class="keywordtype">size_t</span> offset){</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">return</span> (*s_)[(*v_)[begin_ + offset].index_space_index()];</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  }</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keyword">const</span> T&amp; get_(<span class="keywordtype">size_t</span> offset)<span class="keyword"> const</span>{</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">return</span> (*s_)[(*v_)[begin_ + offset].index_space_index()];</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  T&amp; get_end_(<span class="keywordtype">size_t</span> offset){</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="keywordflow">return</span> (*s_)[(*v_)[end_ - 1 - offset].index_space_index()];</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keyword">const</span> T&amp; get_end_(<span class="keywordtype">size_t</span> offset)<span class="keyword"> const</span>{</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <span class="keywordflow">return</span> (*s_)[(*v_)[end_ - 1 - offset].index_space_index()];</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  }</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  T&amp; operator[](<span class="keywordtype">size_t</span> i){</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">return</span> get_(i);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keyword">const</span> T&amp; operator[](<span class="keywordtype">size_t</span> i)<span class="keyword"> const</span>{</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="keywordflow">return</span> get_(i);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keyword">const</span> id_t&amp; operator()(<span class="keywordtype">size_t</span> i)<span class="keyword"> const</span>{</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">return</span> (*v_)[begin_ + i];</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  }</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  id_t&amp; operator()(<span class="keywordtype">size_t</span> i){</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="keywordflow">return</span> (*v_)[begin_ + i];</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  T&amp; front(){</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">return</span> get_(0);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keyword">const</span> T&amp; front()<span class="keyword"> const</span>{</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">return</span> get_(0);</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  }</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  T&amp; back(){</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordflow">return</span> get_end_(0);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  }</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keyword">const</span> T&amp; back()<span class="keyword"> const</span>{</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> get_end_(0);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordtype">size_t</span> size()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> end_ - begin_; }</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  </div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordtype">bool</span> empty()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> begin_ == end_; }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordtype">void</span> clear(){</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    begin_ = 0;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    end_ = 0;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keywordflow">if</span>(OWNED || owned_){</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      v_-&gt;clear();</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      sorted_ = SORTED;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span>(STORAGE){</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      s_-&gt;clear();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  }</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> STORAGE2, <span class="keywordtype">bool</span> OWNED2, <span class="keywordtype">bool</span> SORTED2, <span class="keyword">class</span> F2&gt;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordtype">void</span> set_master(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;T, STORAGE2, OWNED2, SORTED2, F2&gt;</a>&amp; master){</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    set_master(<span class="keyword">const_cast&lt;</span><a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;T, STORAGE2, OWNED2, SORTED2, F2&gt;</a>&amp;<span class="keyword">&gt;</span>(master));</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  }</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keyword">template</span>&lt;<span class="keywordtype">bool</span> STORAGE2, <span class="keywordtype">bool</span> OWNED2, <span class="keywordtype">bool</span> SORTED2, <span class="keyword">class</span> F2&gt;</div><div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1index__space.html#a9b6476584dec75b048a1a6240353df6e">  471</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html#a9b6476584dec75b048a1a6240353df6e">set_master</a>(<a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;T, STORAGE2, OWNED2, SORTED2, F2&gt;</a>&amp; master){</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    s_ = <span class="keyword">reinterpret_cast&lt;</span>item_vector_t*<span class="keyword">&gt;</span>(master.s_);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  std::vector&lt;const T&gt; to_vec()<span class="keyword"> const</span>{</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="keywordflow">return</span> to_vec_&lt;const T&gt;();</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  std::vector&lt;T&gt; to_vec(){</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">return</span> to_vec_&lt;T&gt;();</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> S&gt;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  std::vector&lt;S&gt; to_vec_(){</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    std::vector&lt;S&gt; ret;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordtype">size_t</span> n = end_ - begin_;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    ret.reserve(n);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      ret.push_back((*<span class="keyword">this</span>)[i]);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    } <span class="comment">// for</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  <span class="keyword">const</span> id_vector_t&amp; id_vec()<span class="keyword"> const</span>{</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="keywordflow">return</span> *v_;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  }</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  id_t* id_array()<span class="keyword"> const</span>{</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">return</span> v_-&gt;data();</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  }</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keyword">auto</span> filter(filter_function f)<span class="keyword"> const </span>{</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;T, false, true, false&gt;</a> is;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    is.set_master(*<span class="keyword">this</span>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> item : *<span class="keyword">this</span>) {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      <span class="keywordflow">if</span> (f(item)) {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        is.push_back(item);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      }</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordflow">return</span> is;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;  }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;  <span class="keywordtype">void</span> apply(apply_function f)<span class="keyword"> const </span>{</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> ent : *<span class="keyword">this</span>) {</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      f(ent);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  }</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> S&gt;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keyword">auto</span> map(map_function&lt;S&gt; f)<span class="keyword"> const </span>{</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space&lt;S, false, true, false&gt;</a> is;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    is.set_master(*<span class="keyword">this</span>);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    is.begin_push_(v_-&gt;size());</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> item : *<span class="keyword">this</span>) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      is.batch_push_(f(*item));</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">return</span> is;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> S&gt;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  S reduce(T start, reduce_function&lt;T&gt; f)<span class="keyword"> const </span>{</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    T r = start;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> item : *<span class="keyword">this</span>) {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      f(*item, r);</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordflow">return</span> r;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordtype">void</span> prepare_(){</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">if</span>(!OWNED &amp;&amp; !owned_){</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;      v_ = <span class="keyword">new</span> id_vector_t(*v_);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      owned_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">if</span>(!SORTED &amp;&amp; !sorted_){</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="keyword">auto</span> vc = <span class="keyword">const_cast&lt;</span>id_vector_t*<span class="keyword">&gt;</span>(v_);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      std::sort(vc-&gt;begin(), vc-&gt;end());</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      sorted_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; operator&amp;=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; r){</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    prepare_();</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    id_vector_t ret;</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordflow">if</span>(r.sorted_){</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      ret.resize(std::min(v_-&gt;size(), r.v_-&gt;size()));</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      <span class="keyword">auto</span> itr = std::set_intersection(v_-&gt;begin(), v_-&gt;end(),</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                       r.v_-&gt;begin(), r.v_-&gt;end(), ret.begin());</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      ret.resize(itr - ret.begin());</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    }</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      id_vector_t v2(*r.v_);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      std::sort(v2.begin(), v2.end());</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      ret.resize(std::min(v_-&gt;size(), v2.size()));</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keyword">auto</span> itr = std::set_intersection(v_-&gt;begin(), v_-&gt;end(),</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                       v2.begin(), v2.end(), ret.begin());</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      ret.resize(itr - ret.begin());</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    }</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    *v_ = std::move(ret);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    begin_ = 0;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    end_ = v_-&gt;size();</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a> operator&amp;(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; r)<span class="keyword"> const</span>{</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a> ret(*<span class="keyword">this</span>);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    ret &amp;= r;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  }</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; operator|=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; r){</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    prepare_();</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    id_vector_t ret;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span>(r.sorted_){</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      ret.resize(v_-&gt;size() + r.v_-&gt;size());</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="keyword">auto</span> itr = std::set_union(v_-&gt;begin(), v_-&gt;end(),</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                                r.v_-&gt;begin(), r.v_-&gt;end(), ret.begin());</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;     ret.resize(itr - ret.begin());</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    }</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      id_vector_t v2(*r.v_);</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      std::sort(v2.begin(), v2.end());</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      ret.resize(v_-&gt;size() + v2.size());</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;      <span class="keyword">auto</span> itr = std::set_union(v_-&gt;begin(), v_-&gt;end(),</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                                v2.begin(), v2.end(), ret.begin());</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      ret.resize(itr - ret.begin());</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    *v_ = std::move(ret);</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    begin_ = 0;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    end_ = v_-&gt;size();</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a> operator|(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; r)<span class="keyword"> const</span>{</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a> ret(*<span class="keyword">this</span>);</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    ret |= r;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; operator-=(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; r){</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    prepare_();</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    id_vector_t ret(v_-&gt;size());</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="keywordflow">if</span>(r.sorted_){</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;      <span class="keyword">auto</span> itr = std::set_difference(v_-&gt;begin(), v_-&gt;end(),</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                                     r.v_-&gt;begin(), r.v_-&gt;end(), ret.begin());</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;      ret.resize(itr - ret.begin());</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    }</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      id_vector_t v2(*r.v_);</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      std::sort(v2.begin(), v2.end());</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keyword">auto</span> itr = std::set_difference(v_-&gt;begin(), v_-&gt;end(),</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                                     v2.begin(), v2.end(), ret.begin());</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      ret.resize(itr - ret.begin());</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    }</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    *v_ = std::move(ret);</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    begin_ = 0;</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    end_ = v_-&gt;size();</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  }</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a> <a class="code" href="namespaceflecsi.html#af26f3bc2962eedb1bc41565d2769b5d0">operator-</a>(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; r)<span class="keyword"> const</span>{</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a> ret(*<span class="keyword">this</span>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    ret -= r;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordtype">void</span> push_back(<span class="keyword">const</span> T&amp; item){</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">if</span>(!OWNED &amp;&amp; !owned_){</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      v_ = <span class="keyword">new</span> id_vector_t(*v_);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      owned_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span>(STORAGE){</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      s_-&gt;push_back(item);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">if</span>(SORTED || sorted_){</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keyword">auto</span> <span class="keywordtype">id</span> = <a class="code" href="classflecsi_1_1id__.html">id_</a>(item);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      <span class="keyword">auto</span> itr = std::upper_bound(v_-&gt;begin(), v_-&gt;end(), id);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      v_-&gt;insert(itr, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      v_-&gt;push_back(<a class="code" href="classflecsi_1_1id__.html">id_</a>(item));</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    ++end_;</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="keywordtype">void</span> push_back(id_t index){</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <span class="keywordflow">if</span>(!OWNED &amp;&amp; !owned_){</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      v_ = <span class="keyword">new</span> id_vector_t(*v_);</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      owned_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span>(SORTED || sorted_){</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <span class="keyword">auto</span> itr = std::upper_bound(v_-&gt;begin(), v_-&gt;end(), index);</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      v_-&gt;insert(itr, index);</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      v_-&gt;push_back(index);</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    ++end_;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  }</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keywordtype">void</span> append(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; is){</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">if</span>(!OWNED &amp;&amp; !owned_){</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      v_ = <span class="keyword">new</span> id_vector_t(*v_);</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      owned_ = <span class="keyword">true</span>;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    </div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="keywordflow">if</span>(STORAGE){</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      s_-&gt;insert(s_-&gt;begin(), is.s_-&gt;begin(), is.s_-&gt;end());</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordtype">size_t</span> n = is.size();</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    </div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keywordflow">if</span>(SORTED || sorted_){</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      v_-&gt;reserve(n);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <span class="keywordflow">for</span>(<span class="keyword">auto</span> ent : is){</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        id_t <span class="keywordtype">id</span> = <a class="code" href="classflecsi_1_1id__.html">id_</a>(ent);</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keyword">auto</span> itr = std::upper_bound(v_-&gt;begin(), v_-&gt;end(), id);</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        v_-&gt;insert(itr, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      v_-&gt;insert(v_-&gt;begin(), is.v_-&gt;begin(), is.v_-&gt;end());</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    }</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    end_ += n;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  }</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>&amp; operator&lt;&lt;(T item){</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    push_back(item);</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordtype">void</span> append_(<span class="keyword">const</span> std::vector&lt;T&gt;&amp; ents, <span class="keyword">const</span> std::vector&lt;id_t&gt;&amp; ids){</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    static_assert(STORAGE, <span class="stringliteral">&quot;expected STORAGE&quot;</span>);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    assert(ents.size() == ids.size());</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    </div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    s_-&gt;insert(s_-&gt;begin(), ents.begin(), ents.end());</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="keywordtype">size_t</span> n = ents.size();</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    </div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">if</span>(SORTED || sorted_){</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      v_-&gt;reserve(n);</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">for</span>(id_t <span class="keywordtype">id</span> : ids){</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        <span class="keyword">auto</span> itr = std::upper_bound(v_-&gt;begin(), v_-&gt;end(), id);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        v_-&gt;insert(itr, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;      }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    }</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      v_-&gt;insert(v_-&gt;begin(), ids.begin(), ids.end());</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    end_ += n;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  id_t <a class="code" href="classflecsi_1_1id__.html">id_</a>(<span class="keyword">const</span> item_t&amp; item){</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">return</span> item.index_space_id();</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  }</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  id_t <a class="code" href="classflecsi_1_1id__.html">id_</a>(<span class="keyword">const</span> item_t* item){</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="keywordflow">return</span> item-&gt;index_space_id();</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  </div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span>, <span class="keywordtype">bool</span>, <span class="keywordtype">bool</span>, <span class="keywordtype">bool</span>, <span class="keyword">class</span>&gt; </div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1index__space.html">index_space</a>;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1connectivity__t.html">connectivity_t</a>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;  </div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;  id_vector_t* v_;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <span class="keywordtype">size_t</span> begin_;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="keywordtype">size_t</span> end_;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordtype">bool</span> owned_;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordtype">bool</span> sorted_;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  item_vector_t* s_;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordtype">size_t</span> begin_push_(){</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">return</span> v_-&gt;size();</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  <span class="keywordtype">void</span> begin_push_(<span class="keywordtype">size_t</span> n){</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    assert(begin_ == 0);</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordtype">size_t</span> m = v_-&gt;size();</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    v_-&gt;reserve(m + n);</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    end_ += n;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  }</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordtype">void</span> batch_push_(id_t index){</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    v_-&gt;push_back(index);</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;  <span class="keywordtype">void</span> push_(id_t index){</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    v_-&gt;push_back(index);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    ++end_;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordtype">void</span> end_push_(<span class="keywordtype">size_t</span> n){</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    assert(begin_ == 0);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    end_ += v_-&gt;size() - n;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  }</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="keywordtype">void</span> resize_(<span class="keywordtype">size_t</span> n){</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    assert(begin_ == 0);</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    v_-&gt;resize(n);</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    end_ = v_-&gt;size();</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  }</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keywordtype">void</span> fill_(id_t index){</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    static_assert(OWNED, <span class="stringliteral">&quot;expected OWNED&quot;</span>);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    std::fill(v_-&gt;begin(), v_-&gt;end(), index);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  id_vector_t&amp; id_vec_(){</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <span class="keywordflow">return</span> *v_;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  }</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;  <span class="keyword">typename</span> id_vector_t::iterator index_begin_(){</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordflow">return</span> v_-&gt;begin();</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <span class="keyword">typename</span> id_vector_t::iterator index_end_(){</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">return</span> v_-&gt;end();</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;};</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1simple__id.html">  877</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1simple__id.html">simple_id</a>{</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1simple__id.html">simple_id</a>(<span class="keywordtype">size_t</span> <span class="keywordtype">id</span>)</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  : <a class="code" href="classflecsi_1_1id__.html">id_</a>(<span class="keywordtype">id</span>){}</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <span class="keyword">operator</span> size_t()<span class="keyword"> const</span>{</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classflecsi_1_1id__.html">id_</a>;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  }</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  <span class="keywordtype">bool</span> operator&lt;(<span class="keyword">const</span> <a class="code" href="classflecsi_1_1topology_1_1simple__id.html">simple_id</a>&amp; eid)<span class="keyword"> const</span>{</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classflecsi_1_1id__.html">id_</a> &lt; eid.id_;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordtype">size_t</span> index_space_index()<span class="keyword"> const</span>{</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classflecsi_1_1id__.html">id_</a>;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;  }</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classflecsi_1_1id__.html">id_</a>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;};</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00899"></a><span class="lineno"><a class="line" href="classflecsi_1_1topology_1_1simple__entry.html">  899</a></span>&#160;<span class="keyword">class </span><a class="code" href="classflecsi_1_1topology_1_1simple__entry.html">simple_entry</a>{</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keyword">using</span> <a class="code" href="classflecsi_1_1topology_1_1simple__id.html">id_t</a> = <a class="code" href="classflecsi_1_1topology_1_1simple__id.html">simple_id</a>;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1simple__entry.html">simple_entry</a>(<a class="code" href="classflecsi_1_1topology_1_1simple__id.html">id_t</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> T&amp; entry)</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  : <a class="code" href="classflecsi_1_1id__.html">id_</a>(<span class="keywordtype">id</span>),</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  entry_(entry){}</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="keyword">operator</span> T()<span class="keyword"> const</span>{</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="keywordflow">return</span> entry_;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  }</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1simple__id.html">id_t</a> index_space_id()<span class="keyword"> const</span>{</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classflecsi_1_1id__.html">id_</a>;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;  }</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1simple__id.html">id_t</a> <a class="code" href="classflecsi_1_1id__.html">id_</a>;</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  T entry_;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;};</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;} <span class="comment">// namespace topology</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;} <span class="comment">// namespace flecsi</span></div><div class="ttc" id="classflecsi_1_1topology_1_1simple__entry_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1simple__entry.html">flecsi::topology::simple_entry</a></div><div class="ttdef"><b>Definition:</b> index_space.h:899</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_html_a9b6476584dec75b048a1a6240353df6e"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space.html#a9b6476584dec75b048a1a6240353df6e">flecsi::topology::index_space::set_master</a></div><div class="ttdeci">void set_master(index_space&lt; T, STORAGE2, OWNED2, SORTED2, F2 &gt; &amp;master)</div><div class="ttdef"><b>Definition:</b> index_space.h:471</div></div>
<div class="ttc" id="classflecsi_1_1id___html"><div class="ttname"><a href="classflecsi_1_1id__.html">flecsi::id_</a></div><div class="ttdef"><b>Definition:</b> id.h:34</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space.html">flecsi::topology::index_space</a></div><div class="ttdoc">index_space provides a compile-time configurable and iterable container of objects, e.g. mesh/tree topology entities and their id&amp;#39;s. Index space defines the concept of STORAGE - whether the actual entities referenced are stored within this index space OR contained in a &amp;#39;master&amp;#39; index space. OWNERSHIP - whether its set of id&amp;#39;s are owned by this index space or aliased to another index space and then must be copied before this index space can then modify them. SORTED - refers to if the id&amp;#39;s are sorted and can then have set operations directly applied to them, else the index space must first be sorted. To make operations on index spaces faster, the index space is parameterized on a number of these parameters and can be efficiently recast depending on how it is to be used: STORAGE - if true then this is a &amp;#39;master&amp;#39; index space with its own storage. OWNED - if true then id ownership is definitely true, else must check owned_ at runtime. SORTED - if true then id&amp;#39;s are definitely stored and shall remain in sorted order. </div><div class="ttdef"><b>Definition:</b> index_space.h:51</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_1_1iterator__base___html"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space_1_1iterator__base__.html">flecsi::topology::index_space::iterator_base_</a></div><div class="ttdef"><b>Definition:</b> index_space.h:108</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_html_a956d9f7d8b0e0e0f94f84518a783cfc5"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space.html#a956d9f7d8b0e0e0f94f84518a783cfc5">flecsi::topology::index_space::index_space</a></div><div class="ttdeci">index_space(const index_space&lt; S, STORAGE2, OWNED2, SORTED2, F2 &gt; &amp;is, size_t begin, size_t end)</div><div class="ttdef"><b>Definition:</b> index_space.h:232</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1simple__id_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1simple__id.html">flecsi::topology::simple_id</a></div><div class="ttdef"><b>Definition:</b> index_space.h:877</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_html_ac583260d297a5d74017eff493cd89b26"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space.html#ac583260d297a5d74017eff493cd89b26">flecsi::topology::index_space::index_space</a></div><div class="ttdeci">index_space(const index_space &amp;is)</div><div class="ttdef"><b>Definition:</b> index_space.h:246</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_1_1iterator___html"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space_1_1iterator__.html">flecsi::topology::index_space::iterator_</a></div><div class="ttdef"><b>Definition:</b> index_space.h:157</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_1_1id__range___html"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space_1_1id__range__.html">flecsi::topology::index_space::id_range_</a></div><div class="ttdef"><b>Definition:</b> index_space.h:73</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1index__space_html_a8998d02dbeb9c7af2a1231a477b6ce21"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space.html#a8998d02dbeb9c7af2a1231a477b6ce21">flecsi::topology::index_space::operator=</a></div><div class="ttdeci">index_space &amp; operator=(const index_space &amp;is)</div><div class="ttdef"><b>Definition:</b> index_space.h:284</div></div>
<div class="ttc" id="classflecsi_1_1topology_1_1connectivity__t_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1connectivity__t.html">flecsi::topology::connectivity_t</a></div><div class="ttdoc">connectivity_t provides basic connectivity information in a compressed storage format. </div><div class="ttdef"><b>Definition:</b> mesh_types.h:342</div></div>
<div class="ttc" id="namespaceflecsi_html_af26f3bc2962eedb1bc41565d2769b5d0"><div class="ttname"><a href="namespaceflecsi.html#af26f3bc2962eedb1bc41565d2769b5d0">flecsi::operator-</a></div><div class="ttdeci">dimensioned_array&lt; T, D, TS &gt; operator-(const dimensioned_array&lt; T, D, TS &gt; &amp;lhs, const dimensioned_array&lt; T, D, TS &gt; &amp;rhs)</div><div class="ttdoc">Subtraction operator involving two dimensioned_arrays. </div><div class="ttdef"><b>Definition:</b> dimensioned_array.h:267</div></div>
<div class="ttc" id="namespaceflecsi_html"><div class="ttname"><a href="namespaceflecsi.html">flecsi</a></div><div class="ttdoc">user includes </div><div class="ttdef"><b>Definition:</b> thread_pool.h:37</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
