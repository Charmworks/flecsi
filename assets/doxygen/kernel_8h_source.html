<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" type="image/x-icon" href="flecsi-favicon.ico" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Interface Documentation: /home/flecsi/flecsi/flecsi/execution/kernel.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" height="200" style="margin-top:40px; margin-left:30px; margin-right:10px" src="medium-flecsi.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Interface Documentation<br>
		<span id="projectnumber">Version:</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_688c864b7b93022ab3a371d21adf78fb.html">flecsi</a></li><li class="navelem"><a class="el" href="dir_de3fd30a958a5b790b1b27a7c22cf3d7.html">execution</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">kernel.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="kernel_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*~--------------------------------------------------------------------------~*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (c) 2015 Los Alamos National Security, LLC</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * All rights reserved.</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *~--------------------------------------------------------------------------~*/</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#ifndef flecsi_execution_kernel_h</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#define flecsi_execution_kernel_h</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;flecsi/topology/index_space.h&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">//----------------------------------------------------------------------------//</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------//</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceflecsi.html">flecsi</a> {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">namespace </span>execution {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//----------------------------------------------------------------------------//</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------//</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">template</span>&lt;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keyword">typename</span> ENTITY_TYPE,</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordtype">bool</span> STORAGE,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="keywordtype">bool</span> OWNED,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordtype">bool</span> SORTED,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="keyword">typename</span> PREDICATE,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keyword">typename</span> FUNCTION</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;&gt;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">inline</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="group__execution.html#ga735ac8d2b1299c6aa92b6b5eed45b2aa">   51</a></span>&#160;<a class="code" href="group__execution.html#ga735ac8d2b1299c6aa92b6b5eed45b2aa">for_each__</a>(</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">flecsi::topology::index_space</a>&lt;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    ENTITY_TYPE,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    STORAGE,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    OWNED,</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    SORTED,</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    PREDICATE</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  &gt; &amp; index_space,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  FUNCTION &amp;&amp; <span class="keyword">function</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">size_t</span> end = index_space.end_offset();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i(index_space.begin_offset()); i&lt;end; ++i) {</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keyword">function</span>(std::forward&lt;ENTITY_TYPE&gt;(index_space.get_offset(i)));</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  } <span class="comment">// for</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;} <span class="comment">// for_each__</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//----------------------------------------------------------------------------//</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment"></span><span class="comment">//----------------------------------------------------------------------------//</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">template</span>&lt;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keyword">typename</span> ENTITY_TYPE,</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordtype">bool</span> STORAGE,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordtype">bool</span> OWNED,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordtype">bool</span> SORTED,</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keyword">typename</span> PREDICATE,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keyword">typename</span> FUNCTION,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">typename</span> REDUCTION</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;&gt;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keyword">inline</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="group__execution.html#ga04c4ab13afac35fba04a9f8f8fd4f7a5">  102</a></span>&#160;<a class="code" href="group__execution.html#ga04c4ab13afac35fba04a9f8f8fd4f7a5">reduce_each__</a>(</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="classflecsi_1_1topology_1_1index__space.html">flecsi::topology::index_space</a>&lt;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    ENTITY_TYPE,</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    STORAGE,</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    OWNED,</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    SORTED,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    PREDICATE</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  &gt; &amp; index_space,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  REDUCTION &amp; reduction,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  FUNCTION &amp;&amp; <span class="keyword">function</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;)</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">size_t</span> end = index_space.end_offset();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i(index_space.begin_offset()); i&lt;end; ++i) {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keyword">function</span>(std::forward&lt;ENTITY_TYPE&gt;(index_space.get_offset(i)), reduction);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  } <span class="comment">// for</span></div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;} <span class="comment">// reduce_each__</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;} <span class="comment">// namespace execution</span></div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;} <span class="comment">// namespace flecsi</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#endif // flecsi_execution_kernel_h</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">/*~-------------------------------------------------------------------------~-*</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"> * Formatting options for vim.</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> * vim: set tabstop=2 shiftwidth=2 expandtab :</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"> *~-------------------------------------------------------------------------~-*/</span></div><div class="ttc" id="classflecsi_1_1topology_1_1index__space_html"><div class="ttname"><a href="classflecsi_1_1topology_1_1index__space.html">flecsi::topology::index_space</a></div><div class="ttdoc">index_space provides a compile-time configurable and iterable container of objects, e.g. mesh/tree topology entities and their id&amp;#39;s. Index space defines the concept of STORAGE - whether the actual entities referenced are stored within this index space OR contained in a &amp;#39;master&amp;#39; index space. OWNERSHIP - whether its set of id&amp;#39;s are owned by this index space or aliased to another index space and then mustcbe copied before this index space can then modify them. SORTED - refers to if the id&amp;#39;s are sorted and can then have set operations directly applied to them, else the index space must first be sorted. To make operations on index spaces faster, the index space is parameterized on a number of these parameters and can be efficiently recast depending on how it is to be used: STORAGE - if true then this is a &amp;#39;master&amp;#39; index space with its own storage. OWNED - if true then id ownership is definitely true, else must check owned_ at runtime. SORTED - if true then id&amp;#39;s are definitely stored and shall remain in sorted order. </div><div class="ttdef"><b>Definition:</b> index_space.h:47</div></div>
<div class="ttc" id="group__execution_html_ga735ac8d2b1299c6aa92b6b5eed45b2aa"><div class="ttname"><a href="group__execution.html#ga735ac8d2b1299c6aa92b6b5eed45b2aa">flecsi::execution::for_each__</a></div><div class="ttdeci">void for_each__(flecsi::topology::index_space&lt; ENTITY_TYPE, STORAGE, OWNED, SORTED, PREDICATE &gt; &amp;index_space, FUNCTION &amp;&amp;function)</div><div class="ttdef"><b>Definition:</b> kernel.h:51</div></div>
<div class="ttc" id="group__execution_html_ga04c4ab13afac35fba04a9f8f8fd4f7a5"><div class="ttname"><a href="group__execution.html#ga04c4ab13afac35fba04a9f8f8fd4f7a5">flecsi::execution::reduce_each__</a></div><div class="ttdeci">void reduce_each__(flecsi::topology::index_space&lt; ENTITY_TYPE, STORAGE, OWNED, SORTED, PREDICATE &gt; &amp;index_space, REDUCTION &amp;reduction, FUNCTION &amp;&amp;function)</div><div class="ttdef"><b>Definition:</b> kernel.h:102</div></div>
<div class="ttc" id="namespaceflecsi_html"><div class="ttname"><a href="namespaceflecsi.html">flecsi</a></div><div class="ttdef"><b>Definition:</b> adjacency_types.h:14</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
