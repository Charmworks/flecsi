<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" type="image/x-icon" href="flecsi-favicon.ico" />
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Interface Documentation: FleCSI: Build</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" height="200" style="margin-top:40px; margin-left:30px; margin-right:10px" src="medium-flecsi.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Interface Documentation<br>
		<span id="projectnumber">Version:</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FleCSI: Build </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Building FleCSI</h1>
<p>FleCSI can be configured to run with different distributed-memory runtimes, including Legion, and MPI. FleCSI also has support for various fine-grained, node-level runtimes, including OpenMP, Kokkos, Agency, and the C++17 extensions for parallelism. Full documentation of FleCSI requires both Pandoc and Doxygen. These configuration options are listed to convey to the reader that the FleCSI build system has several paths that can be taken to tailor FleCSI to a given system and architecture.</p>
<h2>Requirements &amp; Prerequisites</h2>
<p>The following list of requirements provides a complete set of build options, but is not necessary for a particular build:</p>
<ul>
<li><b>C++14 compliant compiler</b><br />
 At the current time, FleCSI has been tested with GNU, Clang, and Intel C++ compilers.</li>
<li><b>MPI</b><br />
 If Legion support is enabled, the MPI implementation must have support for <em>MPI_THREAD_MULTIPLE</em>.</li>
<li><b>Legion</b><br />
 We are currently using the most up-to-date version of the master branch.</li>
<li><b>GASNet</b><br />
 GASNet is only required if Legion support is enabled.</li>
<li><b>Pandoc</b><br />
 Pandoc is only required to build the FleCSI guide documentation. Pandoc is a format conversion tool. More information is available <a href="http://pandoc.org">here</a>.</li>
<li><b>Doxygen</b><br />
 Doxygen is only required to build the interface documentation.</li>
<li><b>CMake</b><br />
 We currently require CMake version 2.8 or greater.</li>
</ul>
<h2>FleCSI Third Party Libraries Project</h2>
<p>To facilitate FleCSI adoption by a broad set of users, we have provided a superbuild project that can build many of the libraries and tools required to build and use FleCSI. The FleCSI Third Party Libraries (TPL) project is available from github <a href="https://github.com/laristra/flecsi-third-party">here</a>. Note that a suitable version of MPI is required for the superbuild.</p>
<p><b>Admonishment: Users should note that, while this approach is easier, it may not provide as robust of a solution as individually building each dependency, and that care should be taken before installing these libraries on a production system to avoid possible conflicts or duplication. Production deployments of some of these tools may have architecture or system specific needs that will not be met by our superbuild. Users who are working with development branches of FleCSI are encouraged to build each package separately.</b></p>
<p>Build instructions for the TPLs: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% git clone --recursive https://github.com/laristra/flecsi-third-party.git</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;% cd flecsi-third-party</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;% mkdir build</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;% cd build</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;% cmake -DCMAKE_INSTALL_PREFIX=/path/to/install/directory ..</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;% make</div></div><!-- fragment --><p> The <em>make</em> command will also install the TPLs in the specified install directory. <b>It is recommended that users remove the install directory before updating or re-compiling the TPLs.</b></p>
<h2>Build Environment</h2>
<p>FleCSI uses CMake as part of its build system. A convenient mechanism for identifying directory paths that should be searched by CMake's <em>find_package</em> function is to set the <em>CMAKE_PREFIX_PATH</em> environment variable. If you are using the FleCSI TPLs discussed above, you can set <em>CMAKE_PREFIX_PATH</em> to include the path to your TPL installation directory and FleCSI will automatically find all of its dependencies: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% export CMAKE_PREFIX_PATH=/path/to/install/directory (bash)</div></div><!-- fragment --><h2>Getting The Code</h2>
<p>Clone the FleCSI git repository, and create an out-of-source build area (FleCSI prohibits in-source builds): </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% git clone --recursive https://github.com/laristra/flecsi.git</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;% cd flecsi</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;% mkdir build</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;% cd build</div></div><!-- fragment --><p> <b>Note: FleCSI developers, i.e., those who have permission to create new branches and pull requests, should clone the source code using their github account and the <em>git</em> user:</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% git clone --recursive git@github.com:laristra/flecsi.git</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;% cd flecsi</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;% mkdir build</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;% cd build</div></div><!-- fragment --><h2>Configuration &amp; Build</h2>
<p>Configuration of FleCSI requires the selection of the backend runtimes that will be used by the FleCSI programming model abstraction to invoke tasks and kernels. There are currently two supported distributed-memory runtimes, a serial runtime, and one supported node-level runtime:</p>
<ul>
<li><b>Distributed-Memory</b>: Legion or MPI</li>
<li><b>Serial</b>: This is useful for development and debugging, and is logically a valid selection for the distributed-memory backend that is not distributed ;-)</li>
<li><b>Node-Level</b>: OpenMP</li>
</ul>
<p>Example configuration: <b>Serial</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% cmake -DFLECSI_RUNTIME_MODEL=serial ..</div></div><!-- fragment --><p> Example configuration: <b>Serial + OpenMP</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% cmake -DFLECSI_RUNTIME_MODEL=serial -DENABLE_OPENMP ..</div></div><!-- fragment --><p> Example configuration: <b>Legion</b> </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% cmake -DFLECSI_RUNTIME_MODEL=legion -DENABLE_MPI -DENABLE_PARTITIONING ..</div></div><!-- fragment --><p> After configuration is complete, just use <em>make</em> to build: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% make -j 16</div></div><!-- fragment --><p> This will build all targets <em>except</em> for the Doxygen documentation, which can be built with: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% make doxygen</div></div><!-- fragment --><p> Installation uses the normal <em>make install</em>, and will install FleCSI in the directory specified by CMAKE_INSTALL_PREFIX: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;% make install</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
