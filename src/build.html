

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building FleCSI &mdash; FleCSI 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://flecsi.orgsrc/build.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CMake Configuration Options" href="build/options.html" />
    <link rel="prev" title="Introduction" href="../index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/flecsi.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                Version: 1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building FleCSI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements-prerequisites">Requirements &amp; Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flecsi-third-party-libraries-project">FleCSI Third Party Libraries Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-environment">Build Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-the-code">Getting The Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-build">Configuration &amp; Build</a><ul>
<li class="toctree-l3"><a class="reference internal" href="build/options.html">CMake Configuration Options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">FleCSI Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">FleCSI User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer-guide.html">FleCSI Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="team.html">FleCSI Team</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FleCSI</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Building FleCSI</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/src/build.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-flecsi">
<h1>Building FleCSI<a class="headerlink" href="#building-flecsi" title="Permalink to this headline">¶</a></h1>
<p>FleCSI can be configured to run with different distributed-memory
runtimes, including Legion, and MPI. FleCSI also has support for various
fine-grained, node-level runtimes, including OpenMP, Kokkos, Agency, and
the C++17 extensions for parallelism.  Full documentation of FleCSI
requires both Pandoc and Doxygen. These configuration options are listed
to convey to the reader that the FleCSI build system has several paths
that can be taken to tailor FleCSI to a given system and architecture.</p>
<div class="section" id="requirements-prerequisites">
<h2>Requirements &amp; Prerequisites<a class="headerlink" href="#requirements-prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The following list of requirements provides a complete set of build
options, but is not necessary for a particular build:</p>
<ul class="simple">
<li><strong>C++14 compliant compiler</strong> <br />
At the current time, FleCSI has been tested with GNU, Clang, and Intel
C++ compilers.</li>
<li><strong>MPI</strong> <br />
If Legion support is enabled, the MPI implementation must have support
for <em>MPI_THREAD_MULTIPLE</em>.</li>
<li><strong>Legion</strong> <br />
We are currently using the most up-to-date version of the master
branch.</li>
<li><strong>GASNet</strong> <br />
GASNet is only required if Legion support is enabled.</li>
<li><strong>Pandoc</strong> <br />
Pandoc is only required to build the FleCSI guide documentation.
Pandoc is a format conversion tool. More information is available
at <a class="reference external" href="http://pandoc.org">http://pandoc.org</a>.</li>
<li><strong>Doxygen</strong> <br />
Doxygen is only required to build the interface documentation.</li>
<li><strong>CMake</strong> <br />
We currently require CMake version 2.8 or greater.</li>
<li><strong>Python</strong> <br />
We currently require Python 2.7 or greater.</li>
</ul>
</div>
<div class="section" id="flecsi-third-party-libraries-project">
<h2>FleCSI Third Party Libraries Project<a class="headerlink" href="#flecsi-third-party-libraries-project" title="Permalink to this headline">¶</a></h2>
<p>To facilitate FleCSI adoption by a broad set of users, we have provided
a superbuild project that can build many of the libraries and tools
required to build and use FleCSI. The FleCSI Third Party Libraries (TPL)
project is available from github at
<a class="reference external" href="https://github.com/laristra/flecsi-third-party">https://github.com/laristra/flecsi-third-party</a>.
Note that a suitable version of MPI is required for the superbuild.</p>
<div class="topic">
<p class="topic-title first">Admonishment</p>
<p>Users should note that, while this approach is easier, it may not
provide as robust a solution as individually building each dependency,
and that care should be taken before installing these libraries on a
production system to avoid possible conflicts or duplication.
Production deployments of some of these tools may have architecture or
system specific needs that will not be met by our superbuild. Users
who are working with development branches of FleCSI are encouraged to
build each package separately.</p>
</div>
<p>Build instructions for the TPLs:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone --recursive https://github.com/laristra/flecsi-third-party.git
<span class="gp">$</span> <span class="nb">cd</span> flecsi-third-party
<span class="gp">$</span> mkdir build
<span class="gp">$</span> <span class="nb">cd</span> build
<span class="gp">$</span> cmake -DCMAKE_INSTALL_PREFIX<span class="o">=</span>/path/to/install/directory ..
<span class="gp">$</span> make
</pre></div>
</div>
<p>The <em>make</em> command will also install the TPLs in the specified install
directory. <strong>It is recommended that users remove the install directory
before updating or re-compiling the TPLs.</strong></p>
</div>
<div class="section" id="build-environment">
<h2>Build Environment<a class="headerlink" href="#build-environment" title="Permalink to this headline">¶</a></h2>
<p>FleCSI uses CMake as part of its build system. A convenient mechanism
for identifying directory paths that should be searched by CMake’s
<em>find_package</em> function is to set the <em>CMAKE_PREFIX_PATH</em> environment
variable. If you are using the FleCSI TPLs discussed above, you can set
<em>CMAKE_PREFIX_PATH</em> to include the path to your TPL installation
directory and FleCSI will automatically find all of its dependencies:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">export</span> <span class="nv">CMAKE_PREFIX_PATH</span><span class="o">=</span>/path/to/install/directory <span class="o">(</span>bash<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-the-code">
<h2>Getting The Code<a class="headerlink" href="#getting-the-code" title="Permalink to this headline">¶</a></h2>
<p>Clone the FleCSI git repository, and create an out-of-source build area
(FleCSI prohibits in-source builds):</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone --recursive https://github.com/laristra/flecsi.git
<span class="gp">$</span> <span class="nb">cd</span> flecsi
<span class="gp">$</span> mkdir build
<span class="gp">$</span> <span class="nb">cd</span> build
</pre></div>
</div>
<p><strong>Note: FleCSI developers, i.e., those who have permission to create
new branches and pull requests, should clone the source code using their
github account and the *git* user:</strong></p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone --recursive git@github.com:laristra/flecsi.git
<span class="gp">$</span> <span class="nb">cd</span> flecsi
<span class="gp">$</span> mkdir build
<span class="gp">$</span> <span class="nb">cd</span> build
</pre></div>
</div>
</div>
<div class="section" id="configuration-build">
<h2>Configuration &amp; Build<a class="headerlink" href="#configuration-build" title="Permalink to this headline">¶</a></h2>
<p>Configuration of FleCSI requires the selection of the backend runtimes
that will be used by the FleCSI programming model abstraction to invoke
tasks and kernels. There are currently two supported distributed-memory
runtimes, a serial runtime, and one supported node-level runtime:</p>
<ul class="simple">
<li><strong>Distributed-Memory</strong> <br />
Legion or MPI</li>
<li><strong>Serial [supported thorugh MPI runtime]</strong> <br />
<strong>The serial build is no longer supported.</strong> Users wishing to emulate
this build mode should select the MPI runtime and run executables with
a single-rank.</li>
<li><strong>Node-Level</strong> <br />
OpenMP</li>
</ul>
<p>Example configuration: <strong>MPI</strong></p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> cmake -DFLECSI_RUNTIME_MODEL<span class="o">=</span>mpi -DENABLE_MPI -DENABLE_COLORING ..
</pre></div>
</div>
<p>Example configuration: <strong>MPI + OpenMP</strong></p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> cmake -DFLECSI_RUNTIME_MODEL<span class="o">=</span>mpi -DENABLE_MPI -DENABLE_COLORING -DENABLE_OPENMP ..
</pre></div>
</div>
<p>Example configuration: <strong>Legion</strong></p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> cmake -DFLECSI_RUNTIME_MODEL<span class="o">=</span>legion -DENABLE_MPI -DENABLE_COLORING ..
</pre></div>
</div>
<p>After configuration is complete, just use <em>make</em> to build:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> make -j <span class="m">16</span>
</pre></div>
</div>
<p>This will build all targets <em>except</em> for the Doxygen documentation, which
can be built with:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> make doxygen
</pre></div>
</div>
<p>Installation uses the normal <em>make install</em>, and will install FleCSI in
the directory specified by CMAKE_INSTALL_PREFIX:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> make install
</pre></div>
</div>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Advanced:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build/options.html">CMake Configuration Options</a></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="build/options.html" class="btn btn-neutral float-right" title="CMake Configuration Options" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 Los Alamos National Laboratory, LLC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'1.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #e3e2db;
    }
    .wy-side-nav-search>div.version, .wy-nav-top>div.version {
      color: #5f5d5f;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #6e808b;
      color: #ffffff;
    }
  </style>


</body>
</html>